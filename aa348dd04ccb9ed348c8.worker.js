!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="/",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=e(128),i=r(o);onmessage=function(t){var n=t.data,e=(0,i.default)(n);postMessage({oldGame:n,position:e})}},function(t,n,e){var r=e(2),o=e(38);t.exports=function(t){return function n(e,i){switch(arguments.length){case 0:return n;case 1:return o(e)?n:r(function(n){return t(e,n)});default:return o(e)&&o(i)?n:o(e)?r(function(n){return t(n,i)}):o(i)?r(function(n){return t(e,n)}):t(e,i)}}}},function(t,n,e){var r=e(38);t.exports=function(t){return function n(e){return 0===arguments.length||r(e)?n:t.apply(this,arguments)}}},function(t,n,e){var r=e(2),o=e(1),i=e(38);t.exports=function(t){return function n(e,u,a){switch(arguments.length){case 0:return n;case 1:return i(e)?n:o(function(n,r){return t(e,n,r)});case 2:return i(e)&&i(u)?n:i(e)?o(function(n,e){return t(n,u,e)}):i(u)?o(function(n,r){return t(e,n,r)}):r(function(n){return t(e,u,n)});default:return i(e)&&i(u)&&i(a)?n:i(e)&&i(u)?o(function(n,e){return t(n,e,a)}):i(e)&&i(a)?o(function(n,e){return t(n,u,e)}):i(u)&&i(a)?o(function(n,r){return t(e,n,r)}):i(e)?r(function(n){return t(n,u,a)}):i(u)?r(function(n){return t(e,n,a)}):i(a)?r(function(n){return t(e,u,n)}):t(e,u,a)}}}},function(t,n,e){var r=e(16),o=e(58);t.exports=function(t,n,e){return function(){if(0===arguments.length)return e();var i=Array.prototype.slice.call(arguments,0),u=i.pop();if(!r(u)){for(var a=0;a<t.length;){if("function"==typeof u[t[a]])return u[t[a]].apply(u,i);a+=1}if(o(u)){var s=n.apply(null,i);return s(u)}}return e.apply(this,arguments)}}},function(t,n){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},function(t,n,e){var r=e(12),o=e(2),i=e(1),u=e(35);t.exports=i(function(t,n){return 1===t?o(n):r(t,u(t,[],n))})},function(t,n){t.exports=function(t,n){return Object.prototype.hasOwnProperty.call(n,t)}},function(t,n,e){var r=e(1),o=e(4),i=e(39),u=e(10),a=e(227),s=e(6),c=e(13);t.exports=r(o(["fantasy-land/map","map"],a,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return s(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return u(function(e,r){return e[r]=t(n[r]),e},{},c(n));default:return i(t,n)}}))},function(t,n,e){var r=e(1),o=e(202);t.exports=r(function(t,n){return o(t,n,[],[])})},function(t,n,e){var r=e(36),o=e(100),i=e(78);t.exports=function(){function t(t,n,e){for(var r=0,o=e.length;r<o;){if(n=t["@@transducer/step"](n,e[r]),n&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return t["@@transducer/result"](n)}function n(t,n,e){for(var r=e.next();!r.done;){if(n=t["@@transducer/step"](n,r.value),n&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=e.next()}return t["@@transducer/result"](n)}function e(t,n,e,r){return t["@@transducer/result"](e[r](i(t["@@transducer/step"],t),n))}var u="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(i,a,s){if("function"==typeof i&&(i=o(i)),r(s))return t(i,a,s);if("function"==typeof s["fantasy-land/reduce"])return e(i,a,s,"fantasy-land/reduce");if(null!=s[u])return n(i,a,s[u]());if("function"==typeof s.next)return n(i,a,s);if("function"==typeof s.reduce)return e(i,a,s,"reduce");throw new TypeError("reduce: list must be array or iterable")}}()},function(t,n){t.exports=function(t,n){t=t||[],n=n||[];var e,r=t.length,o=n.length,i=[];for(e=0;e<r;)i[i.length]=t[e],e+=1;for(e=0;e<o;)i[i.length]=n[e],e+=1;return i}},function(t,n){t.exports=function(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,e){return n.apply(this,arguments)};case 3:return function(t,e,r){return n.apply(this,arguments)};case 4:return function(t,e,r,o){return n.apply(this,arguments)};case 5:return function(t,e,r,o,i){return n.apply(this,arguments)};case 6:return function(t,e,r,o,i,u){return n.apply(this,arguments)};case 7:return function(t,e,r,o,i,u,a){return n.apply(this,arguments)};case 8:return function(t,e,r,o,i,u,a,s){return n.apply(this,arguments)};case 9:return function(t,e,r,o,i,u,a,s,c){return n.apply(this,arguments)};case 10:return function(t,e,r,o,i,u,a,s,c,f){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,n,e){var r=e(2),o=e(7),i=e(95);t.exports=function(){var t=!{toString:null}.propertyIsEnumerable("toString"),n=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],e=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),u=function(t,n){for(var e=0;e<t.length;){if(t[e]===n)return!0;e+=1}return!1};return r("function"!=typeof Object.keys||e?function(r){if(Object(r)!==r)return[];var a,s,c=[],f=e&&i(r);for(a in r)!o(a,r)||f&&"length"===a||(c[c.length]=a);if(t)for(s=n.length-1;s>=0;)a=n[s],o(a,r)&&!u(c,a)&&(c[c.length]=a),s-=1;return c}:function(t){return Object(t)!==t?[]:Object.keys(t)})}()},function(t,n,e){var r=e(3),o=e(10);t.exports=r(o)},function(t,n,e){t.exports={F:e(138),T:e(139),__:e(140),add:e(30),addIndex:e(141),adjust:e(73),all:e(142),allPass:e(143),always:e(21),and:e(74),any:e(75),anyPass:e(144),ap:e(47),aperture:e(145),append:e(146),apply:e(76),applySpec:e(147),ascend:e(148),assoc:e(31),assocPath:e(77),binary:e(149),bind:e(78),both:e(150),call:e(151),chain:e(48),clamp:e(152),clone:e(153),comparator:e(154),complement:e(155),compose:e(49),composeK:e(79),composeP:e(156),concat:e(50),cond:e(157),construct:e(158),constructN:e(80),contains:e(159),converge:e(81),countBy:e(160),curry:e(32),curryN:e(6),dec:e(161),defaultTo:e(82),descend:e(162),difference:e(83),differenceWith:e(84),dissoc:e(85),dissocPath:e(163),divide:e(164),drop:e(86),dropLast:e(165),dropLastWhile:e(166),dropRepeats:e(167),dropRepeatsWith:e(87),dropWhile:e(168),either:e(169),empty:e(88),endsWith:e(170),eqBy:e(171),eqProps:e(172),equals:e(9),evolve:e(173),filter:e(51),find:e(174),findIndex:e(175),findLast:e(176),findLastIndex:e(177),flatten:e(178),flip:e(33),forEach:e(179),forEachObjIndexed:e(180),fromPairs:e(181),groupBy:e(182),groupWith:e(183),gt:e(184),gte:e(185),has:e(186),hasIn:e(187),head:e(188),identical:e(89),identity:e(52),ifElse:e(189),inc:e(190),indexBy:e(191),indexOf:e(192),init:e(193),innerJoin:e(194),insert:e(195),insertAll:e(196),intersection:e(231),intersectionWith:e(232),intersperse:e(233),into:e(234),invert:e(235),invertObj:e(236),invoker:e(25),is:e(101),isEmpty:e(237),isNil:e(102),join:e(238),juxt:e(103),keys:e(13),keysIn:e(239),last:e(104),lastIndexOf:e(240),length:e(105),lens:e(40),lensIndex:e(241),lensPath:e(242),lensProp:e(243),lift:e(41),liftN:e(106),lt:e(244),lte:e(245),map:e(8),mapAccum:e(246),mapAccumRight:e(247),mapObjIndexed:e(248),match:e(249),mathMod:e(250),max:e(22),maxBy:e(251),mean:e(107),median:e(252),memoize:e(253),memoizeWith:e(108),merge:e(254),mergeAll:e(255),mergeDeepLeft:e(256),mergeDeepRight:e(257),mergeDeepWith:e(258),mergeDeepWithKey:e(42),mergeWith:e(259),mergeWithKey:e(59),min:e(260),minBy:e(261),modulo:e(262),multiply:e(109),nAry:e(43),negate:e(263),none:e(264),not:e(110),nth:e(26),nthArg:e(265),o:e(266),objOf:e(111),of:e(267),omit:e(268),once:e(269),or:e(112),over:e(113),pair:e(270),partial:e(271),partialRight:e(272),partition:e(273),path:e(27),pathEq:e(274),pathOr:e(275),pathSatisfies:e(276),pick:e(277),pickAll:e(114),pickBy:e(278),pipe:e(115),pipeK:e(279),pipeP:e(116),pluck:e(28),prepend:e(117),product:e(280),project:e(281),prop:e(60),propEq:e(282),propIs:e(283),propOr:e(284),propSatisfies:e(285),props:e(286),range:e(287),reduce:e(14),reduceBy:e(44),reduceRight:e(118),reduceWhile:e(288),reduced:e(289),reject:e(45),remove:e(119),repeat:e(290),replace:e(291),reverse:e(46),scan:e(292),sequence:e(120),set:e(293),slice:e(19),sort:e(294),sortBy:e(295),sortWith:e(296),split:e(297),splitAt:e(298),splitEvery:e(299),splitWhen:e(300),startsWith:e(301),subtract:e(302),sum:e(121),symmetricDifference:e(303),symmetricDifferenceWith:e(304),tail:e(61),take:e(62),takeLast:e(122),takeLastWhile:e(305),takeWhile:e(306),tap:e(307),test:e(308),times:e(123),toLower:e(309),toPairs:e(310),toPairsIn:e(311),toString:e(29),toUpper:e(312),transduce:e(313),transpose:e(314),traverse:e(315),trim:e(316),tryCatch:e(317),type:e(63),unapply:e(318),unary:e(319),uncurryN:e(320),unfold:e(321),union:e(322),unionWith:e(323),uniq:e(64),uniqBy:e(124),uniqWith:e(65),unless:e(324),unnest:e(325),until:e(326),update:e(66),useWith:e(125),values:e(126),valuesIn:e(327),view:e(328),when:e(329),where:e(127),whereEq:e(330),without:e(331),xprod:e(332),zip:e(333),zipObj:e(334),zipWith:e(335)}},function(t,n){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,n){t.exports=function(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}},function(t,n,e){var r=e(94);t.exports=function(t,n){return r(n,t,0)>=0}},function(t,n,e){var r=e(23),o=e(3);t.exports=o(r("slice",function(t,n,e){return Array.prototype.slice.call(e,t,n)}))},function(t,n,e){"use strict";n.__esModule=!0,n.initialScore=n.O=n.X=n._=n.emptyValue=n.boardLength=n.boardIndexes=void 0;var r=e(15),o=0,i=o,u=1,a=2,s=(0,r.range)(0,9),c=(0,r.length)(s),f={x:0,o:0};n.boardIndexes=s,n.boardLength=c,n.emptyValue=o,n._=i,n.X=u,n.O=a,n.initialScore=f},function(t,n,e){var r=e(2);t.exports=r(function(t){return function(){return t}})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return n>t?n:t})},function(t,n,e){var r=e(16);t.exports=function(t,n){return function(){var e=arguments.length;if(0===e)return n();var o=arguments[e-1];return r(o)||"function"!=typeof o[t]?n.apply(this,arguments):o[t].apply(o,Array.prototype.slice.call(arguments,0,e-1))}}},function(t,n){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,n,e){var r=e(1),o=e(37),i=e(6),u=e(29);t.exports=r(function(t,n){return i(t+1,function(){var e=arguments[t];if(null!=e&&o(e[n]))return e[n].apply(e,Array.prototype.slice.call(arguments,0,t));throw new TypeError(u(e)+' does not have a method named "'+n+'"')})})},function(t,n,e){var r=e(1),o=e(24);t.exports=r(function(t,n){var e=t<0?n.length+t:t;return o(n)?n.charAt(e):n[e]})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){for(var e=n,r=0;r<t.length;){if(null==e)return;e=e[t[r]],r+=1}return e})},function(t,n,e){var r=e(1),o=e(8),i=e(60);t.exports=r(function(t,n){return o(i(t),n)})},function(t,n,e){var r=e(2),o=e(214);t.exports=r(function(t){return o(t,[])})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return Number(t)+Number(n)})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){var r={};for(var o in e)r[o]=e[o];return r[t]=n,r})},function(t,n,e){var r=e(2),o=e(6);t.exports=r(function(t){return o(t.length,t)})},function(t,n,e){var r=e(2),o=e(32);t.exports=r(function(t){return o(function(n,e){var r=Array.prototype.slice.call(arguments,0);return r[0]=e,r[1]=n,t.apply(this,r)})})},function(t,n){t.exports=function(t,n,e){for(var r=0,o=e.length;r<o;){if(t(n,e[r]))return!0;r+=1}return!1}},function(t,n,e){var r=e(12),o=e(38);t.exports=function t(n,e,i){return function(){for(var u=[],a=0,s=n,c=0;c<e.length||a<arguments.length;){var f;c<e.length&&(!o(e[c])||a>=arguments.length)?f=e[c]:(f=arguments[a],a+=1),u[c]=f,o(f)||(s-=1),c+=1}return s<=0?i.apply(this,u):r(s,t(n,u,i))}}},function(t,n,e){var r=e(2),o=e(16),i=e(24);t.exports=r(function(t){return!!o(t)||!!t&&("object"==typeof t&&(!i(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})},function(t,n){t.exports=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t&&t["@@functional/placeholder"]===!0}},function(t,n){t.exports=function(t,n){for(var e=0,r=n.length,o=Array(r);e<r;)o[e]=t(n[e]),e+=1;return o}},function(t,n,e){var r=e(1),o=e(8);t.exports=r(function(t,n){return function(e){return function(r){return o(function(t){return n(t,r)},e(t(r)))}}})},function(t,n,e){var r=e(2),o=e(106);t.exports=r(function(t){return o(t.length,t)})},function(t,n,e){var r=e(3),o=e(57),i=e(59);t.exports=r(function t(n,e,r){return i(function(e,r,i){return o(r)&&o(i)?t(n,r,i):n(e,r,i)},e,r)})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){switch(t){case 0:return function(){return n.call(this)};case 1:return function(t){return n.call(this,t)};case 2:return function(t,e){return n.call(this,t,e)};case 3:return function(t,e,r){return n.call(this,t,e,r)};case 4:return function(t,e,r,o){return n.call(this,t,e,r,o)};case 5:return function(t,e,r,o,i){return n.call(this,t,e,r,o,i)};case 6:return function(t,e,r,o,i,u){return n.call(this,t,e,r,o,i,u)};case 7:return function(t,e,r,o,i,u,a){return n.call(this,t,e,r,o,i,u,a)};case 8:return function(t,e,r,o,i,u,a,s){return n.call(this,t,e,r,o,i,u,a,s)};case 9:return function(t,e,r,o,i,u,a,s,c){return n.call(this,t,e,r,o,i,u,a,s,c)};case 10:return function(t,e,r,o,i,u,a,s,c,f){return n.call(this,t,e,r,o,i,u,a,s,c,f)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})},function(t,n,e){var r=e(35),o=e(4),i=e(7),u=e(10),a=e(228);t.exports=r(4,[],o([],a,function(t,n,e,r){return u(function(r,o){var u=e(o);return r[u]=t(i(u,r)?r[u]:n,o),r},{},r)}))},function(t,n,e){var r=e(92),o=e(1),i=e(51);t.exports=o(function(t,n){return i(r(t),n)})},function(t,n,e){var r=e(2),o=e(24);t.exports=r(function(t){return o(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()})},function(t,n,e){var r=e(11),o=e(1),i=e(10),u=e(8);t.exports=o(function(t,n){return"function"==typeof n["fantasy-land/ap"]?n["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(n):"function"==typeof t?function(e){return t(e)(n(e))}:i(function(t,e){return r(t,u(e,n))},[],t)})},function(t,n,e){var r=e(1),o=e(4),i=e(97),u=e(217),a=e(8);t.exports=r(o(["fantasy-land/chain","chain"],u,function(t,n){return"function"==typeof n?function(e){return t(n(e))(e)}:i(!1)(a(t,n))}))},function(t,n,e){var r=e(115),o=e(46);t.exports=function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return r.apply(this,o(arguments))}},function(t,n,e){var r=e(1),o=e(16),i=e(37),u=e(24),a=e(29);t.exports=r(function(t,n){if(o(t)){if(o(n))return t.concat(n);throw new TypeError(a(n)+" is not an array")}if(u(t)){if(u(n))return t+n;throw new TypeError(a(n)+" is not a string")}if(null!=t&&i(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(null!=t&&i(t.concat))return t.concat(n);throw new TypeError(a(t)+' does not have a method named "concat" or "fantasy-land/concat"')})},function(t,n,e){var r=e(1),o=e(4),i=e(54),u=e(57),a=e(10),s=e(222),c=e(13);t.exports=r(o(["filter"],s,function(t,n){return u(n)?a(function(e,r){return t(n[r])&&(e[r]=n[r]),e},{},c(n)):i(t,n)}))},function(t,n,e){var r=e(2),o=e(55);t.exports=r(o)},function(t,n,e){var r=e(207);t.exports="function"==typeof Object.assign?Object.assign:r},function(t,n){t.exports=function(t,n){for(var e=0,r=n.length,o=[];e<r;)t(n[e])&&(o[o.length]=n[e]),e+=1;return o}},function(t,n){t.exports=function(t){return t}},function(t,n){t.exports=Number.isInteger||function(t){return t<<0===t}},function(t,n){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,n){t.exports=function(t){return"function"==typeof t["@@transducer/step"]}},function(t,n,e){var r=e(3),o=e(7);t.exports=r(function(t,n,e){var r,i={};for(r in n)o(r,n)&&(i[r]=o(r,e)?t(r,n[r],e[r]):n[r]);for(r in e)o(r,e)&&!o(r,i)&&(i[r]=e[r]);return i})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return n[t]})},function(t,n,e){var r=e(23),o=e(2),i=e(19);t.exports=o(r("tail",i(1,1/0)))},function(t,n,e){var r=e(1),o=e(4),i=e(229),u=e(19);t.exports=r(o(["take"],i,function(t,n){return u(0,t<0?1/0:t,n)}))},function(t,n,e){var r=e(2);t.exports=r(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)})},function(t,n,e){var r=e(52),o=e(124);t.exports=o(r)},function(t,n,e){var r=e(34),o=e(1);t.exports=o(function(t,n){for(var e,o=0,i=n.length,u=[];o<i;)e=n[o],r(t,e,u)||(u[u.length]=e),o+=1;return u})},function(t,n,e){var r=e(3),o=e(73),i=e(21);t.exports=r(function(t,n,e){return o(i(n),t,e)})},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.calculateBitPosition=n.calculateBitPositionForXY=void 0;var o=e(135),i=r(o),u=function(t,n){return 2*(t+3*n)},a=function(t){var n=(0,i.default)(t),e=n.x,r=n.y;return u(e,r)};n.default=a,n.calculateBitPositionForXY=u,n.calculateBitPosition=a},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(20),i=e(71),u=r(i),a=e(15),s=function(t){return(0,a.filter)(function(n){return(0,u.default)(t,n)},o.boardIndexes)};n.default=s,t.exports=n.default},function(t,n){"use strict";n.__esModule=!0;var e=function(t){return 3<<t};n.default=e,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(67),i=r(o),u=e(69),a=r(u),s=e(20),c=e(15),f=(0,c.curry)(function(t,n){if(!(n>=0&&n<s.boardLength))return null;var e=(0,i.default)(n),r=(0,a.default)(e);return(t&r)>>e});n.default=f,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(70),i=r(o),u=e(20),a=function(t,n){return(0,i.default)(t,n)===u.emptyValue};n.default=a,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(136),i=r(o),u=e(132),a=r(u),s=e(130),c=r(s),f=e(134),l=r(f),p=e(15),h=function(t,n,e){return n?t+(e?1:0):t},v=function(t,n){if(t.ended)return t;var e=(0,c.default)(t.board),r=(0,a.default)(e),o=(0,i.default)(t.board,n,r);if((0,p.isNil)(o))return null;var u=(0,l.default)(o),s=e%2===0,f=!!(u||e>7);return{board:o,ended:f,started:!0,lastMove:n,winners:u,isAiTurn:!t.isAiTurn,aiStarted:t.aiStarted,score:f?{ai:h(t.score.ai,u,t.aiStarted?s:!s),human:h(t.score.human,u,t.aiStarted?!s:s)}:t.score}};n.default=v,t.exports=n.default},function(t,n,e){var r=e(11),o=e(3);t.exports=o(function(t,n,e){if(n>=e.length||n<-e.length)return e;var o=n<0?e.length:0,i=o+n,u=r(e);return u[i]=t(e[i]),u})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t&&n})},function(t,n,e){var r=e(1),o=e(4),i=e(98);t.exports=r(o(["any"],i,function(t,n){for(var e=0;e<n.length;){if(t(n[e]))return!0;e+=1}return!1}))},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t.apply(this,n)})},function(t,n,e){var r=e(3),o=e(7),i=e(16),u=e(56),a=e(31),s=e(102);t.exports=r(function t(n,e,r){if(0===n.length)return e;var c=n[0];if(n.length>1){var f=!s(r)&&o(c,r)?r[c]:u(n[1])?[]:{};e=t(Array.prototype.slice.call(n,1),e,f)}if(u(c)&&i(r)){var l=[].concat(r);return l[c]=e,l}return a(c,e,r)})},function(t,n,e){var r=e(12),o=e(1);t.exports=o(function(t,n){return r(t.length,function(){return t.apply(n,arguments)})})},function(t,n,e){var r=e(48),o=e(49),i=e(8);t.exports=function(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),n=t.pop();return o(o.apply(this,i(r,t)),n)}},function(t,n,e){var r=e(1),o=e(32),i=e(43);t.exports=r(function(t,n){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new n}:o(i(t,function(t,e,r,o,i,u,a,s,c,f){switch(arguments.length){case 1:return new n(t);case 2:return new n(t,e);case 3:return new n(t,e,r);case 4:return new n(t,e,r,o);case 5:return new n(t,e,r,o,i);case 6:return new n(t,e,r,o,i,u);case 7:return new n(t,e,r,o,i,u,a);case 8:return new n(t,e,r,o,i,u,a,s);case 9:return new n(t,e,r,o,i,u,a,s,c);case 10:return new n(t,e,r,o,i,u,a,s,c,f)}}))})},function(t,n,e){var r=e(1),o=e(39),i=e(6),u=e(22),a=e(28),s=e(14);t.exports=r(function(t,n){return i(s(u,0,a("length",n)),function(){var e=arguments,r=this;return t.apply(r,o(function(t){return t.apply(r,e)},n))})})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return null==n||n!==n?t:n})},function(t,n,e){var r=e(18),o=e(1);t.exports=o(function(t,n){for(var e=[],o=0,i=t.length;o<i;)r(t[o],n)||r(t[o],e)||(e[e.length]=t[o]),o+=1;return e})},function(t,n,e){var r=e(34),o=e(3);t.exports=o(function(t,n,e){for(var o=[],i=0,u=n.length;i<u;)r(t,n[i],e)||r(t,n[i],o)||o.push(n[i]),i+=1;return o})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){var e={};for(var r in n)e[r]=n[r];return delete e[t],e})},function(t,n,e){var r=e(1),o=e(4),i=e(218),u=e(19);t.exports=r(o(["drop"],i,function(t,n){return u(Math.max(0,t),1/0,n)}))},function(t,n,e){var r=e(1),o=e(4),i=e(99),u=e(104);t.exports=r(o([],i,function(t,n){var e=[],r=1,o=n.length;if(0!==o)for(e[0]=n[0];r<o;)t(u(e),n[r])||(e[e.length]=n[r]),r+=1;return e}))},function(t,n,e){var r=e(2),o=e(95),i=e(16),u=e(57),a=e(24);t.exports=r(function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():i(t)?[]:a(t)?"":u(t)?{}:o(t)?function(){return arguments}():void 0})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t===n?0!==t||1/t===1/n:t!==t&&n!==n})},function(t,n,e){var r=e(91),o=e(63);t.exports=function t(n,e,i,u){var a=function(r){for(var o=e.length,a=0;a<o;){if(n===e[a])return i[a];a+=1}e[a+1]=n,i[a+1]=r;for(var s in n)r[s]=u?t(n[s],e,i,!0):n[s];return r};switch(o(n)){case"Object":return a({});case"Array":return a([]);case"Date":return new Date(n.valueOf());case"RegExp":return r(n);default:return n}}},function(t,n){t.exports=function(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}},function(t,n){t.exports=function(t){return function(){return!t.apply(this,arguments)}}},function(t,n,e){var r=e(12),o=e(1);t.exports=function(t){return o(function(n,e){return r(Math.max(0,n.length-e.length),function(){return n.apply(this,t(e,arguments))})})}},function(t,n,e){var r=e(9);t.exports=function(t,n,e){var o,i;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(o=1/n;e<t.length;){if(i=t[e],0===i&&1/i===o)return e;e+=1}return-1}if(n!==n){for(;e<t.length;){if(i=t[e],"number"==typeof i&&i!==i)return e;e+=1}return-1}return t.indexOf(n,e);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,e);case"object":if(null===n)return t.indexOf(n,e)}for(;e<t.length;){if(r(t[e],n))return e;e+=1}return-1}},function(t,n,e){var r=e(7);t.exports=function(){var t=Object.prototype.toString;return"[object Arguments]"===t.call(arguments)?function(n){return"[object Arguments]"===t.call(n)}:function(t){return r("callee",t)}}()},function(t,n){t.exports=function(t){return"[object Number]"===Object.prototype.toString.call(t)}},function(t,n,e){var r=e(36);t.exports=function(t){return function n(e){for(var o,i,u,a=[],s=0,c=e.length;s<c;){if(r(e[s]))for(o=t?n(e[s]):e[s],u=0,i=o.length;u<i;)a[a.length]=o[u],u+=1;else a[a.length]=e[s];s+=1}return a}}},function(t,n,e){var r=e(1),o=e(17),i=e(5);t.exports=function(){function t(t,n){this.xf=n,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=o(this.xf["@@transducer/step"](t,!0))),t},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(5);t.exports=function(){function t(t,n){this.xf=n,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,n){var e=!1;return this.seenFirstValue?this.pred(this.lastValue,n)&&(e=!0):this.seenFirstValue=!0,this.lastValue=n,e?t:this.xf["@@transducer/step"](t,n)},r(function(n,e){return new t(n,e)})}()},function(t,n){t.exports=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},function(n){return new t(n)}}()},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return null!=n&&n.constructor===t||n instanceof t})},function(t,n,e){var r=e(2);t.exports=r(function(t){return null==t})},function(t,n,e){var r=e(2),o=e(81);t.exports=r(function(t){return o(function(){return Array.prototype.slice.call(arguments,0)},t)})},function(t,n,e){var r=e(26);t.exports=r(-1)},function(t,n,e){var r=e(2),o=e(96);t.exports=r(function(t){return null!=t&&o(t.length)?t.length:NaN})},function(t,n,e){var r=e(1),o=e(10),i=e(47),u=e(6),a=e(8);t.exports=r(function(t,n){var e=u(t,n);return u(t,function(){return o(i,a(e,arguments[0]),Array.prototype.slice.call(arguments,1))})})},function(t,n,e){var r=e(2),o=e(121);t.exports=r(function(t){return o(t)/t.length})},function(t,n,e){var r=e(12),o=e(1),i=e(7);t.exports=o(function(t,n){var e={};return r(n.length,function(){var r=t.apply(this,arguments);return i(r,e)||(e[r]=n.apply(this,arguments)),e[r]})})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t*n})},function(t,n,e){var r=e(2);t.exports=r(function(t){return!t})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){var e={};return e[t]=n,e})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t||n})},function(t,n,e){var r=e(3);t.exports=function(){var t=function(n){return{value:n,map:function(e){return t(e(n))}}};return r(function(n,e,r){return n(function(n){return t(e(n))})(r).value})}()},function(t,n,e){var r=e(1);t.exports=r(function(t,n){for(var e={},r=0,o=t.length;r<o;){var i=t[r];e[i]=n[i],r+=1}return e})},function(t,n,e){var r=e(12),o=e(209),i=e(14),u=e(61);t.exports=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return r(arguments[0].length,i(o,arguments[0],u(arguments)))}},function(t,n,e){var r=e(12),o=e(210),i=e(14),u=e(61);t.exports=function(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return r(arguments[0].length,i(o,arguments[0],u(arguments)))}},function(t,n,e){var r=e(11),o=e(1);t.exports=o(function(t,n){return r([t],n)})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){for(var r=e.length-1;r>=0;)n=t(e[r],n),r-=1;return n})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){var r=Array.prototype.slice.call(e,0);return r.splice(t,n),r})},function(t,n,e){var r=e(1),o=e(47),i=e(8),u=e(117),a=e(118);t.exports=r(function(t,n){return"function"==typeof n.sequence?n.sequence(t):a(function(t,n){return o(i(u,t),n)},t([]),n)})},function(t,n,e){var r=e(30),o=e(14);t.exports=o(r,0)},function(t,n,e){var r=e(1),o=e(86);t.exports=r(function(t,n){return o(t>=0?n.length-t:0,n)})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){var e,r=Number(n),o=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(e=new Array(r);o<r;)e[o]=t(o),o+=1;return e})},function(t,n,e){var r=e(197),o=e(1);t.exports=o(function(t,n){for(var e,o,i=new r,u=[],a=0;a<n.length;)o=n[a],e=t(o),i.add(e)&&u.push(o),a+=1;return u})},function(t,n,e){var r=e(1),o=e(6);t.exports=r(function(t,n){return o(n.length,function(){for(var e=[],r=0;r<n.length;)e.push(n[r].call(this,arguments[r])),r+=1;return t.apply(this,e.concat(Array.prototype.slice.call(arguments,n.length)))})})},function(t,n,e){var r=e(2),o=e(13);t.exports=r(function(t){for(var n=o(t),e=n.length,r=[],i=0;i<e;)r[i]=t[n[i]],i+=1;return r})},function(t,n,e){var r=e(1),o=e(7);t.exports=r(function(t,n){for(var e in t)if(o(e,t)&&!t[e](n[e]))return!1;return!0})},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(129),i=r(o),u=e(131),a=r(u),s=e(133),c=r(s),f=e(72),l=r(f),p=e(15),h=e(137),v=(0,a.default)(),d={invalidMove:.1,validMove:.6,win:1,lost:0},y=function(t){if((0,p.isNil)(t))return t;var n=v.activate([t.board]),e=(0,c.default)(n),r=(0,l.default)(t,e);if(r&&r.ended)return v.propagate(d.win,r.board),e;var o=(0,i.default)(t);if((0,p.any)(function(t){return e===t},o))return v.propagate(d.validMove,r.board),e;var u=(0,h.getRandomItem)(o),a=(0,l.default)(t,u);return v.propagate(d.invalidMove,a.board),u};n.default=y,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(68),i=r(o),u=e(72),a=r(u),s=e(15),c=function(t,n){return(0,s.pipe)((0,s.filter)(function(n){return n!==t}),s.head)(n)},f=function(t){var n=(0,i.default)(t.board),e=n.filter(function(n){var e=(0,a.default)(t,n);return e.ended});if(e.length>0)return e;var r=n.filter(function(e){var r=(0,a.default)(t,c(e,n)),o=(0,a.default)(r,e);return o.ended});return r.length>0?r:n};n.default=f,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(20),i=e(68),u=r(i),a=e(15),s=function(t){return o.boardLength-(0,a.length)((0,u.default)(t))};n.default=s,t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0;var r=e(336),o=function(){var t=new r.Layer(1),n=new r.Layer(9),e=new r.Layer(9),o=new r.Layer(9);return t.project(n),n.project(e),e.project(o),new r.Network({input:t,hidden:[n,e],output:o})};n.default=o,t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0;var r=e(20),o=function(t){return t%2?r.O:r.X};n.default=o,t.exports=n.default},function(t,n){"use strict";n.__esModule=!0;var e=function(t){return t.reduce(function(n,e,r){return e>t[n]?r:n},0)};n.default=e,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(15),i=e(20),u=e(70),a=r(u),s=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],c=function(t){var n=(0,a.default)(t);return(0,o.head)((0,o.filter)(function(t){var e=n(t[0]),r=n(t[1]),o=n(t[2]);return e!==i.emptyValue&&e===r&&r===o},s))||null};n.default=c,t.exports=n.default},function(t,n){"use strict";n.__esModule=!0;var e=function(t){switch(t){case 0:return{x:0,y:0};case 1:return{x:1,y:0};case 2:return{x:2,y:0};case 3:return{x:0,y:1};case 4:return{x:1,y:1};case 5:return{x:2,y:1};case 6:return{x:0,y:2};case 7:return{x:1,y:2};case 8:return{x:2,y:2};default:return null}};n.default=e,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(67),i=r(o),u=e(69),a=r(u),s=e(71),c=r(s),f=function(t,n,e){if(!(0,c.default)(t,n))return null;var r=(0,i.default)(n);return t&~(0,a.default)(r)|e<<r};n.default=f,t.exports=n.default},function(t,n){"use strict";function e(t){if(!t)return null;if(0===t.length)return t[0];var n=r(1,t.length)-1;return t[n]}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n){return Math.floor(Math.random()*n)+t};n.random=r,n.getRandomItem=e},function(t,n,e){var r=e(21);t.exports=r(!1)},function(t,n,e){var r=e(21);t.exports=r(!0)},function(t,n){t.exports={"@@functional/placeholder":!0}},function(t,n,e){var r=e(11),o=e(2),i=e(6);t.exports=o(function(t){return i(t.length,function(){var n=0,e=arguments[0],o=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=e.apply(this,r(arguments,[n,o]));return n+=1,t},t.apply(this,i)})})},function(t,n,e){var r=e(1),o=e(4),i=e(215);t.exports=r(o(["all"],i,function(t,n){for(var e=0;e<n.length;){if(!t(n[e]))return!1;
e+=1}return!0}))},function(t,n,e){var r=e(2),o=e(6),i=e(22),u=e(28),a=e(14);t.exports=r(function(t){return o(a(i,0,u("length",t)),function(){for(var n=0,e=t.length;n<e;){if(!t[n].apply(this,arguments))return!1;n+=1}return!0})})},function(t,n,e){var r=e(2),o=e(6),i=e(22),u=e(28),a=e(14);t.exports=r(function(t){return o(a(i,0,u("length",t)),function(){for(var n=0,e=t.length;n<e;){if(t[n].apply(this,arguments))return!0;n+=1}return!1})})},function(t,n,e){var r=e(198),o=e(1),i=e(4),u=e(216);t.exports=o(i([],u,r))},function(t,n,e){var r=e(11),o=e(1);t.exports=o(function(t,n){return r(n,[t])})},function(t,n,e){var r=e(2),o=e(76),i=e(6),u=e(8),a=e(22),s=e(28),c=e(14),f=e(126);t.exports=r(function t(n){return n=u(function(n){return"function"==typeof n?n:t(n)},n),i(c(a,0,s("length",f(n))),function(){var t=arguments;return u(function(n){return o(n,t)},n)})})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){var r=t(n),o=t(e);return r<o?-1:r>o?1:0})},function(t,n,e){var r=e(2),o=e(43);t.exports=r(function(t){return o(2,t)})},function(t,n,e){var r=e(1),o=e(37),i=e(74),u=e(41);t.exports=r(function(t,n){return o(t)?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:u(i)(t,n)})},function(t,n,e){var r=e(32);t.exports=r(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){if(t>n)throw new Error("min must not be greater than max in clamp(min, max, value)");return e<t?t:e>n?n:e})},function(t,n,e){var r=e(90),o=e(2);t.exports=o(function(t){return null!=t&&"function"==typeof t.clone?t.clone():r(t,[],[],!0)})},function(t,n,e){var r=e(2);t.exports=r(function(t){return function(n,e){return t(n,e)?-1:t(e,n)?1:0}})},function(t,n,e){var r=e(41),o=e(110);t.exports=r(o)},function(t,n,e){var r=e(116),o=e(46);t.exports=function(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return r.apply(this,o(arguments))}},function(t,n,e){var r=e(12),o=e(2),i=e(8),u=e(22),a=e(14);t.exports=o(function(t){var n=a(u,0,i(function(t){return t[0].length},t));return r(n,function(){for(var n=0;n<t.length;){if(t[n][0].apply(this,arguments))return t[n][1].apply(this,arguments);n+=1}})})},function(t,n,e){var r=e(2),o=e(80);t.exports=r(function(t){return o(t.length,t)})},function(t,n,e){var r=e(18),o=e(1);t.exports=o(r)},function(t,n,e){var r=e(44);t.exports=r(function(t,n){return t+1},0)},function(t,n,e){var r=e(30);t.exports=r(-1)},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){var r=t(n),o=t(e);return r>o?-1:r<o?1:0})},function(t,n,e){var r=e(1),o=e(56),i=e(31),u=e(85),a=e(119),s=e(66);t.exports=r(function t(n,e){switch(n.length){case 0:return e;case 1:return o(n[0])?a(n[0],1,e):u(n[0],e);default:var r=n[0],c=Array.prototype.slice.call(n,1);return null==e[r]?e:o(n[0])?s(r,t(c,e[r]),e):i(r,t(c,e[r]),e)}})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t/n})},function(t,n,e){var r=e(1),o=e(4),i=e(200),u=e(219);t.exports=r(o([],u,i))},function(t,n,e){var r=e(1),o=e(4),i=e(201),u=e(220);t.exports=r(o([],u,i))},function(t,n,e){var r=e(2),o=e(4),i=e(99),u=e(87),a=e(9);t.exports=r(o([],i(a),u(a)))},function(t,n,e){var r=e(1),o=e(4),i=e(221);t.exports=r(o(["dropWhile"],i,function(t,n){for(var e=0,r=n.length;e<r&&t(n[e]);)e+=1;return Array.prototype.slice.call(n,e)}))},function(t,n,e){var r=e(1),o=e(37),i=e(41),u=e(112);t.exports=r(function(t,n){return o(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:i(u)(t,n)})},function(t,n,e){var r=e(1),o=e(9),i=e(122);t.exports=r(function(t,n){return o(i(t.length,n),t)})},function(t,n,e){var r=e(3),o=e(9);t.exports=r(function(t,n,e){return o(t(n),t(e))})},function(t,n,e){var r=e(3),o=e(9);t.exports=r(function(t,n,e){return o(n[t],e[t])})},function(t,n,e){var r=e(1);t.exports=r(function t(n,e){var r,o,i,u={};for(o in e)r=n[o],i=typeof r,u[o]="function"===i?r(e[o]):r&&"object"===i?t(r,e[o]):e[o];return u})},function(t,n,e){var r=e(1),o=e(4),i=e(223);t.exports=r(o(["find"],i,function(t,n){for(var e=0,r=n.length;e<r;){if(t(n[e]))return n[e];e+=1}}))},function(t,n,e){var r=e(1),o=e(4),i=e(224);t.exports=r(o([],i,function(t,n){for(var e=0,r=n.length;e<r;){if(t(n[e]))return e;e+=1}return-1}))},function(t,n,e){var r=e(1),o=e(4),i=e(225);t.exports=r(o([],i,function(t,n){for(var e=n.length-1;e>=0;){if(t(n[e]))return n[e];e-=1}}))},function(t,n,e){var r=e(1),o=e(4),i=e(226);t.exports=r(o([],i,function(t,n){for(var e=n.length-1;e>=0;){if(t(n[e]))return e;e-=1}return-1}))},function(t,n,e){var r=e(2),o=e(97);t.exports=r(o(!0))},function(t,n,e){var r=e(23),o=e(1);t.exports=o(r("forEach",function(t,n){for(var e=n.length,r=0;r<e;)t(n[r]),r+=1;return n}))},function(t,n,e){var r=e(1),o=e(13);t.exports=r(function(t,n){for(var e=o(n),r=0;r<e.length;){var i=e[r];t(n[i],i,n),r+=1}return n})},function(t,n,e){var r=e(2);t.exports=r(function(t){for(var n={},e=0;e<t.length;)n[t[e][0]]=t[e][1],e+=1;return n})},function(t,n,e){var r=e(23),o=e(1),i=e(44);t.exports=o(r("groupBy",i(function(t,n){return null==t&&(t=[]),t.push(n),t},null)))},function(t,n,e){var r=e(1);t.exports=r(function(t,n){for(var e=[],r=0,o=n.length;r<o;){for(var i=r+1;i<o&&t(n[i-1],n[i]);)i+=1;e.push(n.slice(r,i)),r=i}return e})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t>n})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t>=n})},function(t,n,e){var r=e(1),o=e(7);t.exports=r(o)},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t in n})},function(t,n,e){var r=e(26);t.exports=r(0)},function(t,n,e){var r=e(3),o=e(6);t.exports=r(function(t,n,e){return o(Math.max(t.length,n.length,e.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):e.apply(this,arguments)})})},function(t,n,e){var r=e(30);t.exports=r(1)},function(t,n,e){var r=e(44);t.exports=r(function(t,n){return n},null)},function(t,n,e){var r=e(1),o=e(94),i=e(16);t.exports=r(function(t,n){return"function"!=typeof n.indexOf||i(n)?o(n,t,0):n.indexOf(t)})},function(t,n,e){var r=e(19);t.exports=r(0,-1)},function(t,n,e){var r=e(34),o=e(3),i=e(54);t.exports=o(function(t,n,e){return i(function(n){return r(t,n,e)},n)})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){t=t<e.length&&t>=0?t:e.length;var r=Array.prototype.slice.call(e,0);return r.splice(t,0,n),r})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){return t=t<e.length&&t>=0?t:e.length,[].concat(Array.prototype.slice.call(e,0,t),n,Array.prototype.slice.call(e,t))})},function(t,n,e){var r=e(18);t.exports=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}function n(t,n,e){var o,i,u=typeof t;switch(u){case"string":case"number":return 0===t&&1/t===-(1/0)?!!e._items["-0"]||(n&&(e._items["-0"]=!0),!1):null!==e._nativeSet?n?(o=e._nativeSet.size,e._nativeSet.add(t),i=e._nativeSet.size,i===o):e._nativeSet.has(t):u in e._items?t in e._items[u]||(n&&(e._items[u][t]=!0),!1):(n&&(e._items[u]={},e._items[u][t]=!0),!1);case"boolean":if(u in e._items){var a=t?1:0;return!!e._items[u][a]||(n&&(e._items[u][a]=!0),!1)}return n&&(e._items[u]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==e._nativeSet?n?(o=e._nativeSet.size,e._nativeSet.add(t),i=e._nativeSet.size,i===o):e._nativeSet.has(t):u in e._items?!!r(t,e._items[u])||(n&&e._items[u].push(t),!1):(n&&(e._items[u]=[t]),!1);case"undefined":return!!e._items[u]||(n&&(e._items[u]=!0),!1);case"object":if(null===t)return!!e._items.null||(n&&(e._items.null=!0),!1);default:return u=Object.prototype.toString.call(t),u in e._items?!!r(t,e._items[u])||(n&&e._items[u].push(t),!1):(n&&(e._items[u]=[t]),!1)}}return t.prototype.add=function(t){return!n(t,!0,this)},t.prototype.has=function(t){return n(t,!1,this)},t}()},function(t,n){t.exports=function(t,n){for(var e=0,r=n.length-(t-1),o=new Array(r>=0?r:0);e<r;)o[e]=Array.prototype.slice.call(n,e,e+t),e+=1;return o}},function(t,n){t.exports=function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}},function(t,n,e){var r=e(62);t.exports=function(t,n){return r(t<n.length?n.length-t:0,n)}},function(t,n){t.exports=function(t,n){for(var e=n.length-1;e>=0&&t(n[e]);)e-=1;return Array.prototype.slice.call(n,0,e+1)}},function(t,n,e){var r=e(199),o=e(205),i=e(7),u=e(89),a=e(13),s=e(63);t.exports=function t(n,e,c,f){if(u(n,e))return!0;if(s(n)!==s(e))return!1;if(null==n||null==e)return!1;if("function"==typeof n["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](n);if("function"==typeof n.equals||"function"==typeof e.equals)return"function"==typeof n.equals&&n.equals(e)&&"function"==typeof e.equals&&e.equals(n);switch(s(n)){case"Arguments":case"Array":case"Object":if("function"==typeof n.constructor&&"Promise"===o(n.constructor))return n===e;break;case"Boolean":case"Number":case"String":if(typeof n!=typeof e||!u(n.valueOf(),e.valueOf()))return!1;break;case"Date":if(!u(n.valueOf(),e.valueOf()))return!1;break;case"Error":return n.name===e.name&&n.message===e.message;case"RegExp":if(n.source!==e.source||n.global!==e.global||n.ignoreCase!==e.ignoreCase||n.multiline!==e.multiline||n.sticky!==e.sticky||n.unicode!==e.unicode)return!1;break;case"Map":case"Set":if(!t(r(n.entries()),r(e.entries()),c,f))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":break;case"ArrayBuffer":break;default:return!1}var l=a(n);if(l.length!==a(e).length)return!1;for(var p=c.length-1;p>=0;){if(c[p]===n)return f[p]===e;p-=1}for(c.push(n),f.push(e),p=l.length-1;p>=0;){var h=l[p];if(!i(h,e)||!t(e[h],n[h],c,f))return!1;p-=1}return c.pop(),f.pop(),!0}},function(t,n,e){var r=e(204),o=e(36),i=e(10),u=e(5);t.exports=function(){var t=function(t){return{"@@transducer/init":u.init,"@@transducer/result":function(n){return t["@@transducer/result"](n)},"@@transducer/step":function(n,e){var o=t["@@transducer/step"](n,e);return o["@@transducer/reduced"]?r(o):o}}};return function(n){var e=t(n);return{"@@transducer/init":u.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){return o(n)?i(e,t,n):i(e,t,[n])}}}}()},function(t,n){t.exports=function(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}},function(t,n){t.exports=function(t){var n=String(t).match(/^function (\w*)/);return null==n?"":n[1]}},function(t,n){t.exports=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},function(t,n,e){var r=e(7);t.exports=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),e=1,o=arguments.length;e<o;){var i=arguments[e];if(null!=i)for(var u in i)r(u,i)&&(n[u]=i[u]);e+=1}return n}},function(t,n){t.exports=function(t){return[t]}},function(t,n){t.exports=function(t,n){return function(){return n.call(this,t.apply(this,arguments))}}},function(t,n){t.exports=function(t,n){return function(){var e=this;return t.apply(e,arguments).then(function(t){return n.call(e,t)})}}},function(t,n){t.exports=function(t){var n=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+n.replace(/"/g,'\\"')+'"'}},function(t,n,e){var r=e(53),o=e(55),i=e(36),u=e(58),a=e(111);t.exports=function(){var t={"@@transducer/init":Array,"@@transducer/step":function(t,n){return t.push(n),t},"@@transducer/result":o},n={"@@transducer/init":String,"@@transducer/step":function(t,n){return t+n},"@@transducer/result":o},e={"@@transducer/init":Object,"@@transducer/step":function(t,n){return r(t,i(n)?a(n[0],n[1]):n)},"@@transducer/result":o};return function(r){if(u(r))return r;if(i(r))return t;if("string"==typeof r)return n;if("object"==typeof r)return e;throw new Error("Cannot create transformer for "+r)}}()},function(t,n){t.exports=function(){var t=function(t){return(t<10?"0":"")+t};return"function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(n){return n.getUTCFullYear()+"-"+t(n.getUTCMonth()+1)+"-"+t(n.getUTCDate())+"T"+t(n.getUTCHours())+":"+t(n.getUTCMinutes())+":"+t(n.getUTCSeconds())+"."+(n.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}()},function(t,n,e){var r=e(18),o=e(39),i=e(211),u=e(213),a=e(13),s=e(45);t.exports=function t(n,e){var c=function(o){var i=e.concat([n]);return r(o,i)?"<Circular>":t(o,i)},f=function(t,n){return o(function(n){return i(n)+": "+c(t[n])},n.slice().sort())};switch(Object.prototype.toString.call(n)){case"[object Arguments]":return"(function() { return arguments; }("+o(c,n).join(", ")+"))";case"[object Array]":return"["+o(c,n).concat(f(n,s(function(t){return/^\d+$/.test(t)},a(n)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof n?"new Boolean("+c(n.valueOf())+")":n.toString();case"[object Date]":return"new Date("+(isNaN(n.valueOf())?c(NaN):i(u(n)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof n?"new Number("+c(n.valueOf())+")":1/n===-(1/0)?"-0":n.toString(10);case"[object String]":return"object"==typeof n?"new String("+c(n.valueOf())+")":i(n);case"[object Undefined]":return"undefined";default:if("function"==typeof n.toString){var l=n.toString();if("[object Object]"!==l)return l}return"{"+f(n,a(n)).join(", ")+"}"}}},function(t,n,e){var r=e(1),o=e(17),i=e(5);t.exports=function(){function t(t,n){this.xf=n,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)||(this.all=!1,t=o(this.xf["@@transducer/step"](t,!1))),t},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(11),o=e(1),i=e(5);t.exports=function(){function t(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.store(n),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return r(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},o(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(203),i=e(8);t.exports=r(function(t,n){return i(t,o(n))})},function(t,n,e){var r=e(1),o=e(5);t.exports=function(){function t(t,n){this.xf=n,this.n=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,n){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,n)},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(5);t.exports=function(){function t(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(n),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(10),i=e(5);t.exports=function(){function t(t,n){this.f=t,this.retained=[],this.xf=n}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.retain(t,n):this.flush(t,n)},t.prototype.flush=function(t,n){return t=o(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,n)},t.prototype.retain=function(t,n){return this.retained.push(n),t},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(5);t.exports=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,n){if(this.f){if(this.f(n))return t;this.f=null}return this.xf["@@transducer/step"](t,n)},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(5);t.exports=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(17),i=e(5);t.exports=function(){function t(t,n){this.xf=n,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.found=!0,t=o(this.xf["@@transducer/step"](t,n))),t},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(17),i=e(5);t.exports=function(){function t(t,n){this.xf=n,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.found=!0,t=o(this.xf["@@transducer/step"](t,this.idx))),t},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(5);t.exports=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.last=n),t},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(5);t.exports=function(){function t(t,n){this.xf=n,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.lastIdx=this.idx),t},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(5);t.exports=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(35),o=e(7),i=e(5);t.exports=function(){function t(t,n,e,r){this.valueFn=t,this.valueAcc=n,this.keyFn=e,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){var n;for(n in this.inputs)if(o(n,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[n]),t["@@transducer/reduced"])){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){var e=this.keyFn(n);return this.inputs[e]=this.inputs[e]||[e,this.valueAcc],this.inputs[e][1]=this.valueFn(this.inputs[e][1],n),t},r(4,[],function(n,e,r,o){return new t(n,e,r,o)})}()},function(t,n,e){var r=e(1),o=e(17),i=e(5);t.exports=function(){function t(t,n){this.xf=n,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=i.result,t.prototype["@@transducer/step"]=function(t,n){this.i+=1;var e=0===this.n?t:this.xf["@@transducer/step"](t,n);return this.n>=0&&this.i>=this.n?o(e):e},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(1),o=e(17),i=e(5);t.exports=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=i.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):o(t)},r(function(n,e){return new t(n,e)})}()},function(t,n,e){var r=e(18),o=e(1),i=e(54),u=e(33),a=e(64);t.exports=o(function(t,n){var e,o;return t.length>n.length?(e=t,o=n):(e=n,o=t),a(i(u(r)(e),o))})},function(t,n,e){var r=e(34),o=e(3),i=e(65);t.exports=o(function(t,n,e){var o,u;n.length>e.length?(o=n,u=e):(o=e,u=n);for(var a=[],s=0;s<u.length;)r(t,u[s],o)&&(a[a.length]=u[s]),s+=1;return i(t,a)})},function(t,n,e){var r=e(23),o=e(1);t.exports=o(r("intersperse",function(t,n){for(var e=[],r=0,o=n.length;r<o;)r===o-1?e.push(n[r]):e.push(n[r],t),r+=1;return e}))},function(t,n,e){var r=e(90),o=e(3),i=e(58),u=e(10),a=e(212);t.exports=o(function(t,n,e){return i(t)?u(n(t),t["@@transducer/init"](),e):u(n(a(t)),r(t,[],[],!1),e)})},function(t,n,e){var r=e(2),o=e(7),i=e(13);t.exports=r(function(t){for(var n=i(t),e=n.length,r=0,u={};r<e;){var a=n[r],s=t[a],c=o(s,u)?u[s]:u[s]=[];c[c.length]=a,r+=1}return u})},function(t,n,e){var r=e(2),o=e(13);t.exports=r(function(t){for(var n=o(t),e=n.length,r=0,i={};r<e;){var u=n[r];i[t[u]]=u,r+=1}return i})},function(t,n,e){var r=e(2),o=e(88),i=e(9);t.exports=r(function(t){return null!=t&&i(t,o(t))})},function(t,n,e){var r=e(25);t.exports=r(1,"join")},function(t,n,e){var r=e(2);t.exports=r(function(t){var n,e=[];for(n in t)e[e.length]=n;return e})},function(t,n,e){var r=e(1),o=e(16),i=e(9);t.exports=r(function(t,n){if("function"!=typeof n.lastIndexOf||o(n)){for(var e=n.length-1;e>=0;){if(i(n[e],t))return e;e-=1}return-1}return n.lastIndexOf(t)})},function(t,n,e){var r=e(2),o=e(40),i=e(26),u=e(66);t.exports=r(function(t){return o(i(t),u(t))})},function(t,n,e){var r=e(2),o=e(77),i=e(40),u=e(27);t.exports=r(function(t){return i(u(t),o(t))})},function(t,n,e){var r=e(2),o=e(31),i=e(40),u=e(60);t.exports=r(function(t){return i(u(t),o(t))})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t<n})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t<=n})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){for(var r=0,o=e.length,i=[],u=[n];r<o;)u=t(u[0],e[r]),i[r]=u[1],r+=1;return[u[0],i]})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){for(var r=e.length-1,o=[],i=[n];r>=0;)i=t(e[r],i[0]),o[r]=i[1],r-=1;return[o,i[0]]})},function(t,n,e){var r=e(1),o=e(10),i=e(13);t.exports=r(function(t,n){return o(function(e,r){return e[r]=t(n[r],r,n),e},{},i(n))})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return n.match(t)||[]})},function(t,n,e){var r=e(1),o=e(56);t.exports=r(function(t,n){return o(t)?!o(n)||n<1?NaN:(t%n+n)%n:NaN})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){return t(e)>t(n)?e:n})},function(t,n,e){var r=e(2),o=e(107);t.exports=r(function(t){var n=t.length;if(0===n)return NaN;var e=2-n%2,r=(n-e)/2;return o(Array.prototype.slice.call(t,0).sort(function(t,n){return t<n?-1:t>n?1:0}).slice(r,r+e))})},function(t,n,e){var r=e(108),o=e(29);t.exports=r(function(){return o(arguments)})},function(t,n,e){var r=e(53),o=e(1);t.exports=o(function(t,n){return r({},t,n)})},function(t,n,e){var r=e(53),o=e(2);t.exports=o(function(t){return r.apply(null,[{}].concat(t))})},function(t,n,e){var r=e(1),o=e(42);t.exports=r(function(t,n){return o(function(t,n,e){return n},t,n)})},function(t,n,e){var r=e(1),o=e(42);t.exports=r(function(t,n){return o(function(t,n,e){return e},t,n)})},function(t,n,e){var r=e(3),o=e(42);t.exports=r(function(t,n,e){return o(function(n,e,r){return t(e,r)},n,e)})},function(t,n,e){var r=e(3),o=e(59);t.exports=r(function(t,n,e){return o(function(n,e,r){return t(e,r)},n,e)})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return n<t?n:t})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){return t(e)<t(n)?e:n})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t%n})},function(t,n,e){var r=e(2);t.exports=r(function(t){return-t})},function(t,n,e){var r=e(92),o=e(1),i=e(4),u=e(98),a=e(75);t.exports=o(r(i(["any"],u,a)))},function(t,n,e){var r=e(2),o=e(6),i=e(26);t.exports=r(function(t){var n=t<0?1:t+1;return o(n,function(){return i(t,arguments)})})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){return t(n(e))})},function(t,n,e){var r=e(2),o=e(208);t.exports=r(o)},function(t,n,e){var r=e(18),o=e(1);t.exports=o(function(t,n){var e={};for(var o in n)r(o,t)||(e[o]=n[o]);return e})},function(t,n,e){var r=e(12),o=e(2);t.exports=o(function(t){var n,e=!1;return r(t.length,function(){return e?n:(e=!0,n=t.apply(this,arguments))})})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return[t,n]})},function(t,n,e){var r=e(11),o=e(93);t.exports=o(r)},function(t,n,e){var r=e(11),o=e(93),i=e(33);t.exports=o(i(r))},function(t,n,e){var r=e(51),o=e(103),i=e(45);t.exports=o([r,i])},function(t,n,e){var r=e(3),o=e(9),i=e(27);t.exports=r(function(t,n,e){return o(i(t,e),n)})},function(t,n,e){var r=e(3),o=e(82),i=e(27);t.exports=r(function(t,n,e){return o(t,i(n,e))})},function(t,n,e){var r=e(3),o=e(27);t.exports=r(function(t,n,e){return n.length>0&&t(o(n,e))})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){for(var e={},r=0;r<t.length;)t[r]in n&&(e[t[r]]=n[t[r]]),r+=1;return e})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){var e={};for(var r in n)t(n[r],r,n)&&(e[r]=n[r]);return e})},function(t,n,e){var r=e(79),o=e(46);t.exports=function(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return r.apply(this,o(arguments))}},function(t,n,e){var r=e(109),o=e(14);t.exports=o(r,1)},function(t,n,e){var r=e(39),o=e(52),i=e(114),u=e(125);t.exports=u(r,[i,o])},function(t,n,e){var r=e(3),o=e(9);t.exports=r(function(t,n,e){return o(n,e[t])})},function(t,n,e){var r=e(3),o=e(101);t.exports=r(function(t,n,e){return o(t,e[n])})},function(t,n,e){var r=e(3),o=e(7);t.exports=r(function(t,n,e){return null!=e&&o(n,e)?e[n]:t})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){return t(e[n])})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){for(var e=t.length,r=[],o=0;o<e;)r[o]=n[t[o]],o+=1;return r})},function(t,n,e){var r=e(1),o=e(96);t.exports=r(function(t,n){if(!o(t)||!o(n))throw new TypeError("Both arguments to range must be numbers");for(var e=[],r=t;r<n;)e.push(r),r+=1;return e})},function(t,n,e){var r=e(35),o=e(10),i=e(17);t.exports=r(4,[],function(t,n,e,r){return o(function(e,r){return t(e,r)?n(e,r):i(e)},e,r)})},function(t,n,e){var r=e(2),o=e(17);t.exports=r(o)},function(t,n,e){var r=e(1),o=e(21),i=e(123);t.exports=r(function(t,n){return i(o(t),n)})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){return e.replace(t,n)})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){for(var r=0,o=e.length,i=[n];r<o;)n=t(n,e[r]),i[r+1]=n,r+=1;return i})},function(t,n,e){var r=e(3),o=e(21),i=e(113);t.exports=r(function(t,n,e){return i(t,o(n),e)})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return Array.prototype.slice.call(n,0).sort(t)})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return Array.prototype.slice.call(n,0).sort(function(n,e){var r=t(n),o=t(e);return r<o?-1:r>o?1:0})})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return Array.prototype.slice.call(n,0).sort(function(n,e){for(var r=0,o=0;0===r&&o<t.length;)r=t[o](n,e),o+=1;return r})})},function(t,n,e){var r=e(25);t.exports=r(1,"split")},function(t,n,e){var r=e(1),o=e(105),i=e(19);t.exports=r(function(t,n){return[i(0,t,n),i(t,o(n),n)]})},function(t,n,e){var r=e(1),o=e(19);t.exports=r(function(t,n){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var e=[],r=0;r<n.length;)e.push(o(r,r+=t,n));return e})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){for(var e=0,r=n.length,o=[];e<r&&!t(n[e]);)o.push(n[e]),e+=1;return[o,Array.prototype.slice.call(n,e)]})},function(t,n,e){var r=e(1),o=e(9),i=e(62);t.exports=r(function(t,n){return o(i(t.length,n),t)})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return Number(t)-Number(n)})},function(t,n,e){var r=e(1),o=e(50),i=e(83);t.exports=r(function(t,n){return o(i(t,n),i(n,t))})},function(t,n,e){var r=e(3),o=e(50),i=e(84);t.exports=r(function(t,n,e){return o(i(t,n,e),i(t,e,n))})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){for(var e=n.length-1;e>=0&&t(n[e]);)e-=1;return Array.prototype.slice.call(n,e+1)})},function(t,n,e){var r=e(1),o=e(4),i=e(230);t.exports=r(o(["takeWhile"],i,function(t,n){for(var e=0,r=n.length;e<r&&t(n[e]);)e+=1;return Array.prototype.slice.call(n,0,e)}))},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t(n),n})},function(t,n,e){var r=e(91),o=e(1),i=e(206),u=e(29);t.exports=o(function(t,n){if(!i(t))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+u(t));return r(t).test(n)})},function(t,n,e){var r=e(25);t.exports=r(0,"toLowerCase")},function(t,n,e){var r=e(2),o=e(7);t.exports=r(function(t){var n=[];for(var e in t)o(e,t)&&(n[n.length]=[e,t[e]]);return n})},function(t,n,e){var r=e(2);t.exports=r(function(t){var n=[];for(var e in t)n[n.length]=[e,t[e]];return n})},function(t,n,e){var r=e(25);t.exports=r(0,"toUpperCase")},function(t,n,e){var r=e(10),o=e(100),i=e(6);t.exports=i(4,function(t,n,e,i){return r(t("function"==typeof n?o(n):n),e,i)})},function(t,n,e){var r=e(2);t.exports=r(function(t){for(var n=0,e=[];n<t.length;){for(var r=t[n],o=0;o<r.length;)"undefined"==typeof e[o]&&(e[o]=[]),e[o].push(r[o]),o+=1;n+=1}return e})},function(t,n,e){var r=e(3),o=e(8),i=e(120);t.exports=r(function(t,n,e){return"function"==typeof e["fantasy-land/traverse"]?e["fantasy-land/traverse"](n,t):i(t,o(n,e))})},function(t,n,e){var r=e(2);t.exports=function(){var t="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",n="​",e="function"==typeof String.prototype.trim;return r(e&&!t.trim()&&n.trim()?function(t){return t.trim()}:function(n){var e=new RegExp("^["+t+"]["+t+"]*"),r=new RegExp("["+t+"]["+t+"]*$");return n.replace(e,"").replace(r,"")})}()},function(t,n,e){var r=e(12),o=e(11),i=e(1);t.exports=i(function(t,n){return r(t.length,function(){try{return t.apply(this,arguments)}catch(t){return n.apply(this,o([t],arguments))}})})},function(t,n,e){var r=e(2);t.exports=r(function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}})},function(t,n,e){var r=e(2),o=e(43);t.exports=r(function(t){return o(1,t)})},function(t,n,e){var r=e(1),o=e(6);t.exports=r(function(t,n){return o(t,function(){for(var e,r=1,o=n,i=0;r<=t&&"function"==typeof o;)e=r===t?arguments.length:i+o.length,o=o.apply(this,Array.prototype.slice.call(arguments,i,e)),r+=1,i=e;return o})})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){for(var e=t(n),r=[];e&&e.length;)r[r.length]=e[0],e=t(e[1]);return r})},function(t,n,e){var r=e(11),o=e(1),i=e(49),u=e(64);t.exports=o(i(u,r))},function(t,n,e){var r=e(11),o=e(3),i=e(65);t.exports=o(function(t,n,e){return i(t,r(n,e))})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){return t(e)?e:n(e)})},function(t,n,e){var r=e(55),o=e(48);t.exports=o(r)},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){for(var r=e;!t(r);)r=n(r);return r})},function(t,n,e){var r=e(2);t.exports=r(function(t){var n,e=[];for(n in t)e[e.length]=t[n];return e})},function(t,n,e){var r=e(1);t.exports=function(){var t=function(t){return{value:t,"fantasy-land/map":function(){return this}}};return r(function(n,e){return n(t)(e).value})}()},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){return t(e)?n(e):e})},function(t,n,e){var r=e(1),o=e(9),i=e(8),u=e(127);t.exports=r(function(t,n){return u(i(o,t),n)})},function(t,n,e){var r=e(18),o=e(1),i=e(33),u=e(45);t.exports=o(function(t,n){return u(i(r)(t),n)})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){for(var e,r=0,o=t.length,i=n.length,u=[];r<o;){for(e=0;e<i;)u[u.length]=[t[r],n[e]],e+=1;r+=1}return u})},function(t,n,e){
var r=e(1);t.exports=r(function(t,n){for(var e=[],r=0,o=Math.min(t.length,n.length);r<o;)e[r]=[t[r],n[r]],r+=1;return e})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){for(var e=0,r=Math.min(t.length,n.length),o={};e<r;)o[t[e]]=n[e],e+=1;return o})},function(t,n,e){var r=e(3);t.exports=r(function(t,n,e){for(var r=[],o=0,i=Math.min(n.length,e.length);o<i;)r[o]=t(n[o],e[o]),o+=1;return r})},function(t,n,e){!function(n,e){t.exports=e()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=4)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=e(6),a=r(u),s=e(2),c=r(s),f=e(1),l=r(f),p={ALL_TO_ALL:"ALL TO ALL",ONE_TO_ONE:"ONE TO ONE",ALL_TO_ELSE:"ALL TO ELSE"},h={INPUT:"INPUT",OUTPUT:"OUTPUT",ONE_TO_ONE:"ONE TO ONE"},v=function(){function t(n){for(o(this,t),this.size=0|n,this.list=[],this.connectedTo=[];n--;){var e=new c.default;this.list.push(e)}}return i(t,[{key:"activate",value:function(t){var n=[];if("undefined"!=typeof t){if(t.length!=this.size)throw new Error("INPUT size and LAYER size must be the same to activate!");for(var e in this.list){var r=this.list[e],o=r.activate(t[e]);n.push(o)}}else for(var e in this.list){var r=this.list[e],o=r.activate();n.push(o)}return n}},{key:"propagate",value:function(t,n){if("undefined"!=typeof n){if(n.length!=this.size)throw new Error("TARGET size and LAYER size must be the same to propagate!");for(var e=this.list.length-1;e>=0;e--){var r=this.list[e];r.propagate(t,n[e])}}else for(var e=this.list.length-1;e>=0;e--){var r=this.list[e];r.propagate(t)}}},{key:"project",value:function(n,e,r){if(n instanceof l.default&&(n=n.layers.input),!(n instanceof t))throw new Error("Invalid argument, you can only project connections to LAYERS and NETWORKS!");if(!this.connected(n))return new a.default(this,n,e,r)}},{key:"gate",value:function(n,e){if(e==t.gateType.INPUT){if(n.to.size!=this.size)throw new Error("GATER layer and CONNECTION.TO layer must be the same size in order to gate!");for(var r in n.to.list){var o=n.to.list[r],i=this.list[r];for(var u in o.connections.inputs){var a=o.connections.inputs[u];a.ID in n.connections&&i.gate(a)}}}else if(e==t.gateType.OUTPUT){if(n.from.size!=this.size)throw new Error("GATER layer and CONNECTION.FROM layer must be the same size in order to gate!");for(var r in n.from.list){var o=n.from.list[r],i=this.list[r];for(var s in o.connections.projected){var a=o.connections.projected[s];a.ID in n.connections&&i.gate(a)}}}else if(e==t.gateType.ONE_TO_ONE){if(n.size!=this.size)throw new Error("The number of GATER UNITS must be the same as the number of CONNECTIONS to gate!");for(var r in n.list){var i=this.list[r],a=n.list[r];i.gate(a)}}n.gatedfrom.push({layer:this,type:e})}},{key:"selfconnected",value:function(){for(var t in this.list){var n=this.list[t];if(!n.selfconnected())return!1}return!0}},{key:"connected",value:function n(e){var r=0;for(var o in this.list)for(var i in e.list){var u=this.list[o],a=e.list[i],n=u.connected(a);"projected"==n.type&&r++}if(r==this.size*e.size)return t.connectionType.ALL_TO_ALL;r=0;for(var s in this.list){var u=this.list[s],a=e.list[s],n=u.connected(a);"projected"==n.type&&r++}return r==this.size?t.connectionType.ONE_TO_ONE:void 0}},{key:"clear",value:function(){for(var t in this.list){var n=this.list[t];n.clear()}}},{key:"reset",value:function(){for(var t in this.list){var n=this.list[t];n.reset()}}},{key:"neurons",value:function(){return this.list}},{key:"add",value:function(t){t=t||new c.default,this.list.push(t),this.size++}},{key:"set",value:function(t){t=t||{};for(var n in this.list){var e=this.list[n];t.label&&(e.label=t.label+"_"+e.ID),t.squash&&(e.squash=t.squash),t.bias&&(e.bias=t.bias)}return this}}]),t}();v.connectionType=p,v.gateType=h,n.default=v},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(2),s=r(a),c=e(0),f=r(c),l=e(3),p=r(l),h=function(){function t(n){o(this,t),"undefined"!=typeof n&&(this.layers={input:n.input||null,hidden:n.hidden||[],output:n.output||null},this.optimized=null)}return u(t,[{key:"activate",value:function(t){if(this.optimized===!1){this.layers.input.activate(t);for(var n=0;n<this.layers.hidden.length;n++)this.layers.hidden[n].activate();return this.layers.output.activate()}return null==this.optimized&&this.optimize(),this.optimized.activate(t)}},{key:"propagate",value:function(t,n){if(this.optimized===!1){this.layers.output.propagate(t,n);for(var e=this.layers.hidden.length-1;e>=0;e--)this.layers.hidden[e].propagate(t)}else null==this.optimized&&this.optimize(),this.optimized.propagate(t,n)}},{key:"project",value:function(n,e,r){if(this.optimized&&this.optimized.reset(),n instanceof t)return this.layers.output.project(n.layers.input,e,r);if(n instanceof f.default)return this.layers.output.project(n,e,r);throw new Error("Invalid argument, you can only project connections to LAYERS and NETWORKS!")}},{key:"gate",value:function(t,n){this.optimized&&this.optimized.reset(),this.layers.output.gate(t,n)}},{key:"clear",value:function(){this.restore();var t=this.layers.input,n=this.layers.output;t.clear();for(var e=0;e<this.layers.hidden.length;e++)this.layers.hidden[e].clear();n.clear(),this.optimized&&this.optimized.reset()}},{key:"reset",value:function(){this.restore();var t=this.layers.input,n=this.layers.output;t.reset();for(var e=0;e<this.layers.hidden.length;e++)this.layers.hidden[e].reset();n.reset(),this.optimized&&this.optimized.reset()}},{key:"optimize",value:function(){for(var t=this,n={},e=this.neurons(),r=0;r<e.length;r++){for(var o=e[r].neuron,i=e[r].layer;o.neuron;)o=o.neuron;n=o.optimize(n,i)}for(var r=0;r<n.propagation_sentences.length;r++)n.propagation_sentences[r].reverse();n.propagation_sentences.reverse();var u="";u+="var F = Float64Array ? new Float64Array("+n.memory+") : []; ";for(var r in n.variables)u+="F["+n.variables[r].id+"] = "+(n.variables[r].value||0)+"; ";u+="var activate = function(input){\n";for(var r=0;r<n.inputs.length;r++)u+="F["+n.inputs[r]+"] = input["+r+"]; ";for(var r=0;r<n.activation_sentences.length;r++)if(n.activation_sentences[r].length>0)for(var a=0;a<n.activation_sentences[r].length;a++)u+=n.activation_sentences[r][a].join(" "),u+=n.trace_sentences[r][a].join(" ");u+=" var output = []; ";for(var r=0;r<n.outputs.length;r++)u+="output["+r+"] = F["+n.outputs[r]+"]; ";u+="return output; }; ",u+="var propagate = function(rate, target){\n",u+="F["+n.variables.rate.id+"] = rate; ";for(var r=0;r<n.targets.length;r++)u+="F["+n.targets[r]+"] = target["+r+"]; ";for(var r=0;r<n.propagation_sentences.length;r++)for(var a=0;a<n.propagation_sentences[r].length;a++)u+=n.propagation_sentences[r][a].join(" ")+" ";u+=" };\n",u+="var ownership = function(memoryBuffer){\nF = memoryBuffer;\nthis.memory = F;\n};\n",u+="return {\nmemory: F,\nactivate: activate,\npropagate: propagate,\nownership: ownership\n};",u=u.split(";").join(";\n");var s=new Function(u),c=s();c.data={variables:n.variables,activate:n.activation_sentences,propagate:n.propagation_sentences,trace:n.trace_sentences,inputs:n.inputs,outputs:n.outputs,check_activation:this.activate,check_propagation:this.propagate},c.reset=function(){t.optimized&&(t.optimized=null,t.activate=c.data.check_activation,t.propagate=c.data.check_propagation)},this.optimized=c,this.activate=c.activate,this.propagate=c.propagate}},{key:"restore",value:function(){if(this.optimized)for(var t=this.optimized,n=(function(){var n=Array.prototype.slice.call(arguments),e=n.shift(),r=n.pop(),o=r+"_";for(var i in n)o+=n[i]+"_";o+=e.ID;var u=t.memory,a=t.data.variables;return o in a?u[a[o].id]:0}),e=this.neurons(),r=0;r<e.length;r++){for(var o=e[r].neuron;o.neuron;)o=o.neuron;o.state=n(o,"state"),o.old=n(o,"old"),o.activation=n(o,"activation"),o.bias=n(o,"bias");for(var i in o.trace.elegibility)o.trace.elegibility[i]=n(o,"trace","elegibility",i);for(var u in o.trace.extended)for(var i in o.trace.extended[u])o.trace.extended[u][i]=n(o,"trace","extended",u,i);for(var a in o.connections.projected){var s=o.connections.projected[a];s.weight=n(s,"weight"),s.gain=n(s,"gain")}}}},{key:"neurons",value:function t(){for(var t=[],n=this.layers.input.neurons(),e=this.layers.output.neurons(),r=0;r<n.length;r++)t.push({neuron:n[r],layer:"input"});for(var r=0;r<this.layers.hidden.length;r++)for(var o=this.layers.hidden[r].neurons(),i=0;i<o.length;i++)t.push({neuron:o[i],layer:r});for(var r=0;r<e.length;r++)t.push({neuron:e[r],layer:"output"});return t}},{key:"inputs",value:function(){return this.layers.input.size}},{key:"outputs",value:function(){return this.layers.output.size}},{key:"set",value:function(t){this.layers={input:t.input||null,hidden:t.hidden||[],output:t.output||null},this.optimized&&this.optimized.reset()}},{key:"setOptimize",value:function(t){this.restore(),this.optimized&&this.optimized.reset(),this.optimized=!!t&&null}},{key:"toJSON",value:function(t){this.restore();for(var n=this.neurons(),e=[],r=[],o={},i=0;i<n.length;i++){for(var u=n[i].neuron;u.neuron;)u=u.neuron;o[u.ID]=i;var a={trace:{elegibility:{},extended:{}},state:u.state,old:u.old,activation:u.activation,bias:u.bias,layer:n[i].layer};a.squash=u.squash==s.default.squash.LOGISTIC?"LOGISTIC":u.squash==s.default.squash.TANH?"TANH":u.squash==s.default.squash.IDENTITY?"IDENTITY":u.squash==s.default.squash.HLIM?"HLIM":u.squash==s.default.squash.RELU?"RELU":null,e.push(a)}for(var i=0;i<n.length;i++){for(var u=n[i].neuron;u.neuron;)u=u.neuron;for(var c in u.connections.projected){var f=u.connections.projected[c];r.push({from:o[f.from.ID],to:o[f.to.ID],weight:f.weight,gater:f.gater?o[f.gater.ID]:null})}u.selfconnected()&&r.push({from:o[u.ID],to:o[u.ID],weight:u.selfconnection.weight,gater:u.selfconnection.gater?o[u.selfconnection.gater.ID]:null})}return{neurons:e,connections:r}}},{key:"toDot",value:function(t){("undefined"==typeof t?"undefined":i(t))||(t=!1);for(var n="digraph nn {\n    rankdir = BT\n",e=[this.layers.input].concat(this.layers.hidden,this.layers.output),r=0;r<e.length;r++)for(var o=0;o<e[r].connectedTo.length;o++){var u=e[r].connectedTo[o],a=u.to,s=u.size,c=e.indexOf(e[r]),f=e.indexOf(a);if(t){if(u.gatedfrom.length){var l="fake"+c+"_"+f;n+="    "+l+' [label = "", shape = point, width = 0.01, height = 0.01]\n',n+="    "+c+" -> "+l+" [label = "+s+", arrowhead = none]\n",n+="    "+l+" -> "+f+"\n"}else n+="    "+c+" -> "+f+" [label = "+s+"]\n";for(var p in u.gatedfrom){var h=u.gatedfrom[p].layer,v=e.indexOf(h);n+="    "+v+" -> "+l+" [color = blue]\n"}}else{n+="    "+c+" -> "+f+" [label = "+s+"]\n";for(var p in u.gatedfrom){var h=u.gatedfrom[p].layer,v=e.indexOf(h);n+="    "+v+" -> "+f+" [color = blue]\n"}}}return n+="}\n",{code:n,link:"https://chart.googleapis.com/chart?chl="+escape(n.replace("/ /g","+"))+"&cht=gv"}}},{key:"standalone",value:function(){this.optimized||this.optimize();for(var t=this.optimized.data,n="function (input) {\n",e=0;e<t.inputs.length;e++)n+="F["+t.inputs[e]+"] = input["+e+"];\n";for(var e=0;e<t.activate.length;e++)for(var r=0;r<t.activate[e].length;r++)n+=t.activate[e][r].join("")+"\n";n+="var output = [];\n";for(var e=0;e<t.outputs.length;e++)n+="output["+e+"] = F["+t.outputs[e]+"];\n";n+="return output;\n}";for(var o=n.match(/F\[(\d+)\]/g),i=0,u={},e=0;e<o.length;e++){var a=o[e].match(/\d+/)[0];a in u||(u[a]=i++)}var s="F = {\n";for(var e in u)s+=u[e]+": "+this.optimized.memory[e]+",\n";return s=s.substring(0,s.length-2)+"\n};\n",s="var run = "+n.replace(/F\[(\d+)]/g,function(t){return"F["+u[t.match(/\d+/)[0]]+"]"}).replace("{\n","{\n"+s)+";\n",s+="return run",new Function(s)()}},{key:"worker",value:function(n,e,r){var o={};r&&(o=r),o.rate=o.rate||.2,o.iterations=o.iterations||1e5,o.error=o.error||.005,o.cost=o.cost||null,o.crossValidate=o.crossValidate||null;var i="// REPLACED BY WORKER\nvar cost = "+(r&&r.cost||this.cost||p.default.cost.MSE)+";\n",u=t.getWorkerSharedFunctions();u=u.replace(/var cost = options && options\.cost \|\| this\.cost \|\| Trainer\.cost\.MSE;/g,i),u=u.replace("return results;",'postMessage({action: "done", message: results, memoryBuffer: F}, [F.buffer]);'),u=u.replace("console.log('iterations', iterations, 'error', error, 'rate', currentRate)","postMessage({action: 'log', message: {\niterations: iterations,\nerror: error,\nrate: currentRate\n}\n})"),u=u.replace("abort = this.schedule.do({ error: error, iterations: iterations, rate: currentRate })","postMessage({action: 'schedule', message: {\niterations: iterations,\nerror: error,\nrate: currentRate\n}\n})"),this.optimized||this.optimize();var a="var inputs = "+this.optimized.data.inputs.length+";\n";a+="var outputs = "+this.optimized.data.outputs.length+";\n",a+="var F =  new Float64Array(["+this.optimized.memory.toString()+"]);\n",a+="var activate = "+this.optimized.activate.toString()+";\n",a+="var propagate = "+this.optimized.propagate.toString()+";\n",a+="onmessage = function(e) {\nif (e.data.action == 'startTraining') {\ntrain("+JSON.stringify(e)+","+JSON.stringify(o)+");\n}\n}";var s=u+"\n"+a,c=new Blob([s]),f=window.URL.createObjectURL(c);return new Worker(f)}},{key:"clone",value:function(){return t.fromJSON(this.toJSON())}}],[{key:"getWorkerSharedFunctions",value:function(){if("undefined"!=typeof t._SHARED_WORKER_FUNCTIONS)return t._SHARED_WORKER_FUNCTIONS;var n=p.default.prototype.train.toString();n=n.replace(/this._trainSet/g,"_trainSet"),n=n.replace(/this.test/g,"test"),n=n.replace(/this.crossValidate/g,"crossValidate"),n=n.replace("crossValidate = true","// REMOVED BY WORKER");var e=p.default.prototype._trainSet.toString().replace(/this.network./g,""),r=p.default.prototype.test.toString().replace(/this.network./g,"");return t._SHARED_WORKER_FUNCTIONS=n+"\n"+e+"\n"+r}},{key:"fromJSON",value:function(n){for(var e=[],r={input:new f.default,hidden:[],output:new f.default},o=0;o<n.neurons.length;o++){var i=n.neurons[o],u=new s.default;u.trace.elegibility={},u.trace.extended={},u.state=i.state,u.old=i.old,u.activation=i.activation,u.bias=i.bias,u.squash=i.squash in s.default.squash?s.default.squash[i.squash]:s.default.squash.LOGISTIC,e.push(u),"input"==i.layer?r.input.add(u):"output"==i.layer?r.output.add(u):("undefined"==typeof r.hidden[i.layer]&&(r.hidden[i.layer]=new f.default),r.hidden[i.layer].add(u))}for(var o=0;o<n.connections.length;o++){var i=n.connections[o],a=e[i.from],c=e[i.to],l=i.weight,p=e[i.gater],h=a.project(c,l);p&&p.gate(h)}return new t(r)}}]),t}();n.default=h},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=e(5),a=r(u),s=0,c={LOGISTIC:function(t,n){var e=1/(1+Math.exp(-t));return n?e*(1-e):e},TANH:function(t,n){return n?1-Math.pow(Math.tanh(t),2):Math.tanh(t)},IDENTITY:function(t,n){return n?1:t},HLIM:function(t,n){return n?1:t>0?1:0},RELU:function(t,n){return n?t>0?1:0:t>0?t:0}},f=function(){function t(){o(this,t),this.ID=t.uid(),this.connections={inputs:{},projected:{},gated:{}},this.error={responsibility:0,projected:0,gated:0},this.trace={elegibility:{},extended:{},influences:{}},this.state=0,this.old=0,this.activation=0,this.selfconnection=new a.default(this,this,0),this.squash=t.squash.LOGISTIC,this.neighboors={},this.bias=.2*Math.random()-.1}return i(t,[{key:"activate",value:function(t){if("undefined"!=typeof t)return this.activation=t,this.derivative=0,this.bias=0,this.activation;this.old=this.state,this.state=this.selfconnection.gain*this.selfconnection.weight*this.state+this.bias;for(var n in this.connections.inputs){var t=this.connections.inputs[n];this.state+=t.from.activation*t.weight*t.gain}this.activation=this.squash(this.state),this.derivative=this.squash(this.state,!0);var e=[];for(var r in this.trace.extended){var o=this.neighboors[r],i=o.selfconnection.gater==this?o.old:0;for(var u in this.trace.influences[o.ID])i+=this.trace.influences[o.ID][u].weight*this.trace.influences[o.ID][u].from.activation;e[o.ID]=i}for(var n in this.connections.inputs){var t=this.connections.inputs[n];this.trace.elegibility[t.ID]=this.selfconnection.gain*this.selfconnection.weight*this.trace.elegibility[t.ID]+t.gain*t.from.activation;for(var r in this.trace.extended){var a=this.trace.extended[r],o=this.neighboors[r],i=e[o.ID];a[t.ID]=o.selfconnection.gain*o.selfconnection.weight*a[t.ID]+this.derivative*this.trace.elegibility[t.ID]*i}}for(var s in this.connections.gated)this.connections.gated[s].gain=this.activation;return this.activation}},{key:"propagate",value:function(t,n){var e=0,r="undefined"!=typeof n;if(r)this.error.responsibility=this.error.projected=n-this.activation;else{for(var o in this.connections.projected){var i=this.connections.projected[o],u=i.to;e+=u.error.responsibility*i.gain*i.weight}this.error.projected=this.derivative*e,e=0;for(var o in this.trace.extended){var u=this.neighboors[o],a=u.selfconnection.gater==this?u.old:0;for(var s in this.trace.influences[o])a+=this.trace.influences[o][s].weight*this.trace.influences[u.ID][s].from.activation;e+=u.error.responsibility*a}this.error.gated=this.derivative*e,this.error.responsibility=this.error.projected+this.error.gated}t=t||.1;for(var o in this.connections.inputs){var s=this.connections.inputs[o],c=this.error.projected*this.trace.elegibility[s.ID];for(var o in this.trace.extended){var u=this.neighboors[o];c+=u.error.responsibility*this.trace.extended[u.ID][s.ID]}s.weight+=t*c}this.bias+=t*this.error.responsibility}},{key:"project",value:function(t,n){if(t==this)return this.selfconnection.weight=1,this.selfconnection;var e=this.connected(t);if(e&&"projected"==e.type)return"undefined"!=typeof n&&(e.connection.weight=n),e.connection;var r=new a.default(this,t,n);this.connections.projected[r.ID]=r,this.neighboors[t.ID]=t,t.connections.inputs[r.ID]=r,t.trace.elegibility[r.ID]=0;for(var o in t.trace.extended){var i=t.trace.extended[o];i[r.ID]=0}return r}},{key:"gate",value:function(t){this.connections.gated[t.ID]=t;var n=t.to;if(!(n.ID in this.trace.extended)){this.neighboors[n.ID]=n;var e=this.trace.extended[n.ID]={};for(var r in this.connections.inputs){var o=this.connections.inputs[r];e[o.ID]=0}}n.ID in this.trace.influences?this.trace.influences[n.ID].push(t):this.trace.influences[n.ID]=[t],t.gater=this}},{key:"selfconnected",value:function(){return 0!==this.selfconnection.weight}},{key:"connected",value:function(t){var n={type:null,connection:!1};if(this==t)return!!this.selfconnected()&&(n.type="selfconnection",n.connection=this.selfconnection,n);for(var e in this.connections)for(var r in this.connections[e]){var r=this.connections[e][r];if(r.to==t)return n.type=e,n.connection=r,n;if(r.from==t)return n.type=e,n.connection=r,n}return!1}},{key:"clear",value:function(){for(var t in this.trace.elegibility)this.trace.elegibility[t]=0;for(var t in this.trace.extended)for(var n in this.trace.extended[t])this.trace.extended[t][n]=0;this.error.responsibility=this.error.projected=this.error.gated=0}},{key:"reset",value:function(){this.clear();for(var t in this.connections)for(var n in this.connections[t])this.connections[t][n].weight=.2*Math.random()-.1;this.bias=.2*Math.random()-.1,this.old=this.state=this.activation=0}},{key:"optimize",value:function(n,e){n=n||{};var r=[],o=[],i=[],u=n.memory||0,a=n.neurons||1,s=n.inputs||[],c=n.targets||[],f=n.outputs||[],l=n.variables||{},p=n.activation_sentences||[],h=n.trace_sentences||[],v=n.propagation_sentences||[],d=n.layers||{__count:0,__neuron:0},y=function(t){var n=e in d&&t[d.__count];n||(d.__count=t.push([])-1,d[e]=d.__count)};y(p),y(h),y(v);var g=d.__count,x=function(){var t=Array.prototype.slice.call(arguments);if(1==t.length){if("target"==t[0]){var n="target_"+c.length;c.push(u)}else var n=t[0];return n in l?l[n]:l[n]={value:0,id:u++}}var e=t.length>2;if(e)var r=t.pop();var o=t.shift(),i=t.pop();if(!e)var r=o[i];for(var n=i+"_",a=0;a<t.length;a++)n+=t[a]+"_";return n+=o.ID,n in l?l[n]:l[n]={value:r,id:u++}},m=function(){for(var t=Array.prototype.slice.call(arguments),n=t.pop(),e="",r=0;r<t.length;r++)e+="string"==typeof t[r]?t[r]:"F["+t[r].id+"]";n.push(e+";")},b=function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0},w=b(this.connections.projected),_=b(this.connections.gated),O="input"==e||b(this.connections.inputs),j="output"==e||w&&_,T=x("rate"),E=x(this,"activation");if(O)s.push(E.id);else{p[g].push(r),h[g].push(o),v[g].push(i);var I=x(this,"old"),k=x(this,"state"),S=x(this,"bias");if(this.selfconnection.gater)var A=x(this.selfconnection,"gain");if(this.selfconnected())var M=x(this.selfconnection,"weight");m(I," = ",k,r),this.selfconnected()?this.selfconnection.gater?m(k," = ",A," * ",M," * ",k," + ",S,r):m(k," = ",M," * ",k," + ",S,r):m(k," = ",S,r);for(var D in this.connections.inputs){var N=this.connections.inputs[D],P=x(N.from,"activation"),L=x(N,"weight");if(N.gater)var z=x(N,"gain");this.connections.inputs[D].gater?m(k," += ",P," * ",L," * ",z,r):m(k," += ",P," * ",L,r)}var R=x(this,"derivative");switch(this.squash){case t.squash.LOGISTIC:m(E," = (1 / (1 + Math.exp(-",k,")))",r),m(R," = ",E," * (1 - ",E,")",r);break;case t.squash.TANH:var q=x("aux"),C=x("aux_2");m(q," = Math.exp(",k,")",r),m(C," = 1 / ",q,r),m(E," = (",q," - ",C,") / (",q," + ",C,")",r),m(R," = 1 - (",E," * ",E,")",r);break;case t.squash.IDENTITY:m(E," = ",k,r),m(R," = 1",r);break;case t.squash.HLIM:m(E," = +(",k," > 0)",r),m(R," = 1",r);break;case t.squash.RELU:m(E," = ",k," > 0 ? ",k," : 0",r),m(R," = ",k," > 0 ? 1 : 0",r)}for(var F in this.trace.extended){var U=this.neighboors[F],W=x("influences["+U.ID+"]"),B=x(U,"old"),V=!1;U.selfconnection.gater==this&&(m(W," = ",B,o),V=!0);for(var H in this.trace.influences[U.ID]){var G=x(this.trace.influences[U.ID][H],"weight"),Y=x(this.trace.influences[U.ID][H].from,"activation");V?m(W," += ",G," * ",Y,o):(m(W," = ",G," * ",Y,o),V=!0)}}for(var D in this.connections.inputs){var N=this.connections.inputs[D];if(N.gater)var z=x(N,"gain");var P=x(N.from,"activation"),K=x(this,"trace","elegibility",N.ID,this.trace.elegibility[N.ID]);this.selfconnected()?this.selfconnection.gater?N.gater?m(K," = ",A," * ",M," * ",K," + ",z," * ",P,o):m(K," = ",A," * ",M," * ",K," + ",P,o):N.gater?m(K," = ",M," * ",K," + ",z," * ",P,o):m(K," = ",M," * ",K," + ",P,o):N.gater?m(K," = ",z," * ",P,o):m(K," = ",P,o);for(var F in this.trace.extended){var U=this.neighboors[F],W=x("influences["+U.ID+"]"),K=x(this,"trace","elegibility",N.ID,this.trace.elegibility[N.ID]),X=x(this,"trace","extended",U.ID,N.ID,this.trace.extended[U.ID][N.ID]);if(U.selfconnected())var J=x(U.selfconnection,"weight");if(U.selfconnection.gater)var $=x(U.selfconnection,"gain");U.selfconnected()?U.selfconnection.gater?m(X," = ",$," * ",J," * ",X," + ",R," * ",K," * ",W,o):m(X," = ",J," * ",X," + ",R," * ",K," * ",W,o):m(X," = ",R," * ",K," * ",W,o)}}for(var Z in this.connections.gated){var Q=x(this.connections.gated[Z],"gain");m(Q," = ",E,r)}}if(!O){var tt=x(this,"error","responsibility",this.error.responsibility);if(j){var nt=x("target");m(tt," = ",nt," - ",E,i);for(var F in this.connections.inputs){var N=this.connections.inputs[F],K=x(this,"trace","elegibility",N.ID,this.trace.elegibility[N.ID]),L=x(N,"weight");m(L," += ",T," * (",tt," * ",K,")",i)}f.push(E.id)}else if(w||_){if(_){m(tt," = 0",i);for(var F in this.connections.projected){var Z=this.connections.projected[F],U=Z.to,et=x(Z,"weight"),rt=x(U,"error","responsibility",U.error.responsibility);if(Z.gater){var ot=x(Z,"gain");m(tt," += ",rt," * ",ot," * ",et,i)}else m(tt," += ",rt," * ",et,i)}m(tt," *= ",R,i);for(var F in this.connections.inputs){var N=this.connections.inputs[F],K=x(this,"trace","elegibility",N.ID,this.trace.elegibility[N.ID]),L=x(N,"weight");m(L," += ",T," * (",tt," * ",K,")",i)}}else if(w){m(tt," = 0",i);for(var F in this.trace.extended){var U=this.neighboors[F],W=x("aux"),B=x(U,"old");U.selfconnection.gater==this?m(W," = ",B,i):m(W," = 0",i);for(var N in this.trace.influences[U.ID]){var Z=this.trace.influences[U.ID][N],et=x(Z,"weight"),it=x(Z.from,"activation");m(W," += ",et," * ",it,i)}var rt=x(U,"error","responsibility",U.error.responsibility);m(tt," += ",rt," * ",W,i)}m(tt," *= ",R,i);for(var F in this.connections.inputs){var N=this.connections.inputs[F],ut=x("aux");m(ut," = 0",i);for(var F in this.trace.extended){var U=this.neighboors[F],rt=x(U,"error","responsibility",U.error.responsibility),X=x(this,"trace","extended",U.ID,N.ID,this.trace.extended[U.ID][N.ID]);m(ut," += ",rt," * ",X,i)}var L=x(N,"weight");m(L," += ",T," * ",ut,i)}}}else{var at=x("aux");for(var F in this.connections.projected){var Z=this.connections.projected[F],U=Z.to,et=x(Z,"weight"),rt=x(U,"error","responsibility",U.error.responsibility);if(Z.gater){var ot=x(Z,"gain");m(at," += ",rt," * ",ot," * ",et,i)}else m(at," += ",rt," * ",et,i)}var st=x(this,"error","projected",this.error.projected);m(st," = ",R," * ",at,i),m(at," = 0",i);for(var F in this.trace.extended){var U=this.neighboors[F],W=x("aux_2"),B=x(U,"old");U.selfconnection.gater==this?m(W," = ",B,i):m(W," = 0",i);for(var N in this.trace.influences[U.ID]){var Z=this.trace.influences[U.ID][N],et=x(Z,"weight"),it=x(Z.from,"activation");m(W," += ",et," * ",it,i)}var rt=x(U,"error","responsibility",U.error.responsibility);m(at," += ",rt," * ",W,i)}var ct=x(this,"error","gated",this.error.gated);m(ct," = ",R," * ",at,i),m(tt," = ",st," + ",ct,i);for(var F in this.connections.inputs){var N=this.connections.inputs[F],ut=x("aux"),K=x(this,"trace","elegibility",N.ID,this.trace.elegibility[N.ID]);m(ut," = ",st," * ",K,i);for(var F in this.trace.extended){var U=this.neighboors[F],rt=x(U,"error","responsibility",U.error.responsibility),X=x(this,"trace","extended",U.ID,N.ID,this.trace.extended[U.ID][N.ID]);m(ut," += ",rt," * ",X,i)}var L=x(N,"weight");m(L," += ",T," * ",ut,i)}}m(S," += ",T," * ",tt,i)}return{memory:u,neurons:a+1,inputs:s,outputs:f,targets:c,variables:l,activation_sentences:p,trace_sentences:h,propagation_sentences:v,layers:d}}}],[{key:"uid",value:function(){return s++}},{key:"quantity",value:function(){return{neurons:s,connections:u.connections}}}]),t}();f.squash=c,n.default=f},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t){for(var n,e,r=t.length;r;n=Math.floor(Math.random()*r),e=t[--r],t[r]=t[n],t[n]=e);return t}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u={CROSS_ENTROPY:function(t,n){var e=0;for(var r in n)e-=t[r]*Math.log(n[r]+1e-15)+(1-t[r])*Math.log(1+1e-15-n[r]);return e},MSE:function(t,n){for(var e=0,r=0;r<n.length;r++)e+=Math.pow(t[r]-n[r],2);return e/n.length},BINARY:function(t,n){for(var e=0,r=0;r<n.length;r++)e+=Math.round(2*t[r])!=Math.round(2*n[r]);return e}},a=function(){function t(n,e){r(this,t),e=e||{},this.network=n,this.rate=e.rate||.2,this.iterations=e.iterations||1e5,this.error=e.error||.005,this.cost=e.cost||null,this.crossValidate=e.crossValidate||null}return i(t,[{key:"train",value:function(n,e){var r,i,u,a=1,s=h=0,c=!1,f=e&&e.cost||this.cost||t.cost.MSE,l=!1,p=Date.now();if(e&&(e.iterations&&(this.iterations=e.iterations),e.error&&(this.error=e.error),e.rate&&(this.rate=e.rate),e.cost&&(this.cost=e.cost),e.schedule&&(this.schedule=e.schedule),e.customLog&&(console.log("Deprecated: use schedule instead of customLog"),this.schedule=e.customLog),(this.crossValidate||e.crossValidate)&&(this.crossValidate||(this.crossValidate={}),l=!0,e.crossValidate.testSize&&(this.crossValidate.testSize=e.crossValidate.testSize),e.crossValidate.testError&&(this.crossValidate.testError=e.crossValidate.testError))),r=this.rate,Array.isArray(this.rate))var h=Math.floor(this.iterations/this.rate.length);if(l){var v=Math.ceil((1-this.crossValidate.testSize)*n.length);u=n.slice(0,v),i=n.slice(v)}for(var d=0;!c&&s<this.iterations&&a>this.error&&!(l&&a<=this.crossValidate.testError);){var y=n.length;if(a=0,s++,h>0){var g=Math.floor(s/h);r=this.rate[g]||r}"function"==typeof this.rate&&(r=this.rate(s,d)),l?(this._trainSet(u,r,f),a+=this.test(i).error,y=1):(a+=this._trainSet(n,r,f),y=n.length),a/=y,d=a,e&&(this.schedule&&this.schedule.every&&s%this.schedule.every==0?c=this.schedule.do({error:a,iterations:s,rate:r}):e.log&&s%e.log==0&&console.log("iterations",s,"error",a,"rate",r),e.shuffle&&o(n))}var x={error:a,iterations:s,time:Date.now()-p};return x}},{key:"trainAsync",value:function(t,n){var e=this.workerTrain.bind(this);return new Promise(function(r,o){try{e(t,r,n,!0)}catch(t){o(t)}})}},{key:"_trainSet",value:function(t,n,e){for(var r=0,o=0;o<t.length;o++){var i=t[o].input,u=t[o].output,a=this.network.activate(i);this.network.propagate(n,u),r+=e(u,a)}return r}},{key:"test",value:function(n,e){for(var r,o,i,u=0,a=e&&e.cost||this.cost||t.cost.MSE,s=Date.now(),c=0;c<n.length;c++)r=n[c].input,i=n[c].output,o=this.network.activate(r),u+=a(i,o);u/=n.length;var f={error:u,time:Date.now()-s};return f}},{key:"workerTrain",value:function(t,n,e,r){r||console.warn("Deprecated: do not use `workerTrain`, use `trainAsync` instead.");var o=this;this.network.optimized||this.network.optimize();var i=this.network.worker(this.network.optimized.memory,t,e);i.onmessage=function(t){switch(t.data.action){case"done":var r=t.data.message.iterations,u=t.data.message.error,a=t.data.message.time;o.network.optimized.ownership(t.data.memoryBuffer),n({error:u,iterations:r,time:a}),i.terminate();break;case"log":console.log(t.data.message);case"schedule":if(e&&e.schedule&&"function"==typeof e.schedule.do){var s=e.schedule.do;s(t.data.message)}}},i.postMessage({action:"startTraining"})}},{key:"XOR",value:function(n){if(2!=this.network.inputs()||1!=this.network.outputs())throw new Error("Incompatible network (2 inputs, 1 output)");var e={iterations:1e5,log:!1,shuffle:!0,cost:t.cost.MSE};if(n)for(var r in n)e[r]=n[r];return this.train([{input:[0,0],output:[0]},{input:[1,0],output:[1]},{input:[0,1],output:[1]},{input:[1,1],output:[0]}],e)}},{key:"DSR",value:function(n){n=n||{};var e,r,o,i,u,a=n.targets||[2,4,7,8],s=n.distractors||[3,5,6,9],c=n.prompts||[0,1],f=n.length||24,l=n.success||.95,p=n.iterations||1e5,h=n.rate||.1,v=n.log||0,d=n.schedule||{},y=n.cost||this.cost||t.cost.CROSS_ENTROPY;
e=r=o=i=u=0;for(var g=1,x=a.length+s.length+c.length,m=function t(n,e){var r=Math.random()*n|0,o=!1;for(var i in e)r==e[i]&&(o=!0);return o?t(n,e):r},b=function(t,n){for(var e in t)if(Math.round(t[e])!=n[e])return!1;return!0},w=Date.now();e<p&&(u<l||e%1e3!=0);){var _=[],O=f-c.length;for(o=0;o<O;o++){var j=Math.random()*s.length|0;_.push(s[j])}var T=[],E=[];for(o=0;o<c.length;o++)T.push(Math.random()*a.length|0),E.push(m(O,E));for(E=E.sort(),o=0;o<c.length;o++)_[E[o]]=a[T[o]],_.push(c[o]);var I,k=I=0;for(g=0,o=0;o<f;o++){var S=[];for(i=0;i<x;i++)S[i]=0;S[_[o]]=1;var A=[];for(i=0;i<a.length;i++)A[i]=0;if(o>=O){var M=o-O;A[T[M]]=1}var D=this.network.activate(S);b(D,A)?o<O?I++:k++:this.network.propagate(h,A),g+=y(A,D),I+k==f&&r++}e%1e3==0&&(r=0),e++;var N=e%1e3;N=0==N?1e3:N,u=r/N,g/=f,v&&e%v==0&&console.log("iterations:",e," success:",u," correct:",r," time:",Date.now()-w," error:",g),d.do&&d.every&&e%d.every==0&&d.do({iterations:e,success:u,error:g,time:Date.now()-w,correct:r})}return{iterations:e,success:u,error:g,time:Date.now()-w}}},{key:"ERG",value:function(n){n=n||{};var e=n.iterations||15e4,r=n.error||.05,o=n.rate||.1,i=n.log||500,u=n.cost||this.cost||t.cost.CROSS_ENTROPY,a=function(){this.paths=[]};a.prototype={connect:function(t,n){return this.paths.push({node:t,value:n}),this},any:function(){if(0==this.paths.length)return!1;var t=Math.random()*this.paths.length|0;return this.paths[t]},test:function(t){for(var n in this.paths)if(this.paths[n].value==t)return this.paths[n];return!1}};for(var s=function(){var t=new a,n=(new a).connect(t,"E"),e=(new a).connect(n,"S"),r=(new a).connect(n,"V").connect(e,"P"),o=(new a).connect(e,"X");o.connect(o,"S");var i=(new a).connect(r,"V");i.connect(i,"T"),e.connect(i,"X");var u=(new a).connect(o,"T").connect(i,"P"),s=(new a).connect(u,"B");return{input:s,output:t}},c=function(){var t=s(),n=s(),e=new a,r=(new a).connect(e,"E");t.output.connect(r,"T"),n.output.connect(r,"P");var o=(new a).connect(t.input,"P").connect(n.input,"T"),i=(new a).connect(o,"B");return{input:i,output:e}},f=function(){for(var t=c().input,n=t.any(),e="";n;)e+=n.value,n=n.node.any();return e},l=function(t){for(var n=c().input,e=0,r=t.charAt(e);e<t.length;){var o=n.test(r);if(!o)return!1;n=o.node,r=t.charAt(++e)}return!0},p=function(t,n){var e=0,r=-1,o=0,i=-1;for(var u in t)t[u]>e&&(e=t[u],r=u),n[u]>o&&(o=n[u],i=u);return r!=i},h=0,v=1,d={B:0,P:1,T:2,X:3,S:4,E:5},y=Date.now();h<e&&v>r;){var g=0;v=0;for(var x=f(),m=x.charAt(g),b=x.charAt(g+1);g<x.length-1;){for(var w=[],_=[],O=0;O<6;O++)w[O]=0,_[O]=0;w[d[m]]=1,_[d[b]]=1;var j=this.network.activate(w);p(j,_)&&this.network.propagate(o,_),m=x.charAt(++g),b=x.charAt(g+1),v+=u(_,j)}v/=x.length,h++,h%i==0&&console.log("iterations:",h," time:",Date.now()-y," error:",v)}return{iterations:h,error:v,time:Date.now()-y,test:l,generate:f}}},{key:"timingTask",value:function(n){function e(t,n){for(var e=t+n,r=0,o=[],i=0;i<e;i++)o.push({input:[0,0],output:[0]});for(;r<e-20;){var u=Math.round(20*Math.random());o[r].input[0]=1;for(var a=r;a<=r+u;a++)o[a].input[1]=u/20,o[a].output[0]=.5;r+=u,u=Math.round(20*Math.random());for(var s=r+1;s<=r+u&&s<e;s++)o[s].input[1]=o[r].input[1];r+=u}for(var c=[],f=[],l=0;l<e;l++)(l<t?c:f).push(o[l]);return{train:c,test:f}}if(2!=this.network.inputs()||1!=this.network.outputs())throw new Error("Invalid Network: must have 2 inputs and one output");"undefined"==typeof n&&(n={});var r=n.iterations||200,o=n.error||.005,i=n.rate||[.03,.02],u=n.log!==!1&&(n.log||10),a=n.cost||this.cost||t.cost.MSE,s=n.trainSamples||7e3,c=n.trainSamples||1e3,f=e(s,c),l=this.train(f.train,{rate:i,log:u,iterations:r,error:o,cost:a});return{train:l,test:this.test(f.test)}}}]),t}();a.cost=u,n.default=a},function(t,n,e){"use strict";function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.Architect=n.Network=n.Trainer=n.Layer=n.Neuron=void 0;var i=e(2);Object.defineProperty(n,"Neuron",{enumerable:!0,get:function(){return o(i).default}});var u=e(0);Object.defineProperty(n,"Layer",{enumerable:!0,get:function(){return o(u).default}});var a=e(3);Object.defineProperty(n,"Trainer",{enumerable:!0,get:function(){return o(a).default}});var s=e(1);Object.defineProperty(n,"Network",{enumerable:!0,get:function(){return o(s).default}});var c=e(7),f=r(c);n.Architect=f},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=n.connections=0,u=function(){function t(n,e,o){if(r(this,t),!n||!e)throw new Error("Connection Error: Invalid neurons");this.ID=t.uid(),this.from=n,this.to=e,this.weight="undefined"==typeof o?.2*Math.random()-.1:o,this.gain=1,this.gater=null}return o(t,null,[{key:"uid",value:function(){return n.connections=i+=1,i-1}}]),t}();n.default=u},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.connections=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=e(0),a=r(u),s=n.connections=0,c=function(){function t(n,e,r,i){if(o(this,t),this.ID=t.uid(),this.from=n,this.to=e,this.selfconnection=e==n,this.type=r,this.connections={},this.list=[],this.size=0,this.gatedfrom=[],"undefined"==typeof this.type&&(n==e?this.type=a.default.connectionType.ONE_TO_ONE:this.type=a.default.connectionType.ALL_TO_ALL),this.type==a.default.connectionType.ALL_TO_ALL||this.type==a.default.connectionType.ALL_TO_ELSE)for(var u in this.from.list)for(var s in this.to.list){var c=this.from.list[u],f=this.to.list[s];if(this.type!=a.default.connectionType.ALL_TO_ELSE||c!=f){var l=c.project(f,i);this.connections[l.ID]=l,this.size=this.list.push(l)}}else if(this.type==a.default.connectionType.ONE_TO_ONE)for(var p in this.from.list){var c=this.from.list[p],f=this.to.list[p],l=c.project(f,i);this.connections[l.ID]=l,this.size=this.list.push(l)}n.connectedTo.push(this)}return i(t,null,[{key:"uid",value:function(){return n.connections=s+=1,s-1}}]),t}();n.default=c},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(8);Object.defineProperty(n,"Perceptron",{enumerable:!0,get:function(){return r(o).default}});var i=e(9);Object.defineProperty(n,"LSTM",{enumerable:!0,get:function(){return r(i).default}});var u=e(10);Object.defineProperty(n,"Liquid",{enumerable:!0,get:function(){return r(u).default}});var a=e(11);Object.defineProperty(n,"Hopfield",{enumerable:!0,get:function(){return r(a).default}})},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var a=e(1),s=r(a),c=e(0),f=r(c),l=function(t){function n(){o(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),e=Array.prototype.slice.call(arguments);if(e.length<3)throw new Error("not enough layers (minimum 3) !!");for(var r=e.shift(),u=e.pop(),a=e,s=new f.default(r),c=[],l=new f.default(u),p=s,h=0;h<a.length;h++){var v=a[h],d=new f.default(v);c.push(d),p.project(d),p=d}return p.project(l),t.set({input:s,hidden:c,output:l}),t}return u(n,t),n}(s.default);n.default=l},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var a=e(1),s=r(a),c=e(0),f=r(c),l=function(t){function n(){o(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),e=Array.prototype.slice.call(arguments);if(e.length<3)throw new Error("not enough layers (minimum 3) !!");var r=e.pop(),u={peepholes:f.default.connectionType.ALL_TO_ALL,hiddenToHidden:!1,outputToHidden:!1,outputToGates:!1,inputToOutput:!0};if("number"!=typeof r){var a=e.pop();r.hasOwnProperty("peepholes")&&(u.peepholes=r.peepholes),r.hasOwnProperty("hiddenToHidden")&&(u.hiddenToHidden=r.hiddenToHidden),r.hasOwnProperty("outputToHidden")&&(u.outputToHidden=r.outputToHidden),r.hasOwnProperty("outputToGates")&&(u.outputToGates=r.outputToGates),r.hasOwnProperty("inputToOutput")&&(u.inputToOutput=r.inputToOutput)}else var a=r;for(var s=e.shift(),c=e,l=new f.default(s),p=[],h=new f.default(a),v=null,d=0;d<c.length;d++){var y=c[d],g=new f.default(y).set({bias:1}),x=new f.default(y).set({bias:1}),m=new f.default(y),b=new f.default(y).set({bias:1});p.push(g),p.push(x),p.push(m),p.push(b);var w=l.project(m);if(l.project(g),l.project(x),l.project(b),null!=v){var _=v.project(m);v.project(g),v.project(x),v.project(b)}var O=m.project(h),j=m.project(m);u.hiddenToHidden&&m.project(m,f.default.connectionType.ALL_TO_ELSE),u.outputToHidden&&h.project(m),u.outputToGates&&(h.project(g),h.project(b),h.project(x)),m.project(g,u.peepholes),m.project(x,u.peepholes),m.project(b,u.peepholes),g.gate(w,f.default.gateType.INPUT),x.gate(j,f.default.gateType.ONE_TO_ONE),b.gate(O,f.default.gateType.OUTPUT),null!=v&&g.gate(_,f.default.gateType.INPUT),v=m}return u.inputToOutput&&l.project(h),t.set({input:l,hidden:p,output:h}),t}return u(n,t),n}(s.default);n.default=l},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var a=e(1),s=r(a),c=e(0),f=r(c),l=function(t){function n(t,e,r,u,a){o(this,n);for(var s=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),c=new f.default(t),l=new f.default(e),p=new f.default(r),h=l.neurons(),v=[],d=0;d<u;d++){var y=Math.random()*h.length|0,g=Math.random()*h.length|0,x=h[y].project(h[g]);v.push(x)}for(var m=0;m<a;m++){var b=Math.random()*h.length|0,x=Math.random()*v.length|0;h[b].gate(v[x])}return c.project(l),l.project(p),s.set({input:c,hidden:[l],output:p}),s}return u(n,t),n}(s.default);n.default=l},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),s=e(1),c=r(s),f=e(3),l=r(f),p=e(0),h=r(p),v=function(t){function n(t){o(this,n);var e=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),r=new h.default(t),u=new h.default(t);return r.project(u,h.default.connectionType.ALL_TO_ALL),e.set({input:r,hidden:[],output:u}),e.trainer=new l.default(e),e}return u(n,t),a(n,[{key:"learn",value:function(t){var n=[];for(var e in t)n.push({input:t[e],output:t[e]});return this.trainer.train(n,{iterations:5e5,error:5e-5,rate:1})}},{key:"feed",value:function(t){var n=this.activate(t),t=[];for(var e in n)t[e]=n[e]>.5?1:0;return t}}]),n}(c.default);n.default=v}])})}]);
//# sourceMappingURL=aa348dd04ccb9ed348c8.worker.js.map